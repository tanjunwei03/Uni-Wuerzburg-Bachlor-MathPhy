\documentclass[twoside,symmetric, openany, 12pt]{./tuftebook}

\usepackage{geometry}
\geometry{
	left=10mm, % left margin
	textwidth=170mm, % main text block
	marginparsep=0mm, % gutter between main text block and margin notes
	marginparwidth=10mm % width of margin notes
}


\usepackage{amsmath, amssymb,physics,amsfonts,amsthm}
\usepackage{enumitem}
\usepackage[most]{tcolorbox}
\usepackage{cancel}
\usepackage{booktabs}
\usepackage{tikz}
\usepackage{xurl}
\usepackage{hyperref}
\usepackage{enumitem}
\usepackage[normalem]{ulem}
\usepackage{transparent}
\usepackage{float}
\usepackage{multirow}
\usepackage{subcaption}
\usepackage{mathtools}
\usepackage{thmtools}
\usepackage{thm-restate}
\usepackage[framemethod=TikZ]{mdframed}
\mdfsetup{skipabove=1em,skipbelow=0em, innertopmargin=12pt, innerbottommargin=8pt}
\declaretheoremstyle[headfont=\bfseries\sffamily, bodyfont=\normalfont, mdframed={  } ]{thmbox}
%put nobreak in mdframed
\declaretheorem[numberwithin=chapter,style=thmbox, name=Theorem]{Theorem}
\declaretheorem[sibling=Theorem, style=thmbox, name=Definition]{Definition}
\declaretheorem[sibling=Theorem, style=thmbox, name=Corollary]{Corollary}
\declaretheorem[sibling=Theorem, style=thmbox, name=Example]{Example}
\declaretheorem[sibling=Theorem, style=thmbox, name=Proposition]{Proposition}
\declaretheorem[sibling=Theorem, style=thmbox, name=Lemma]{Lemma}
\usepackage{subcaption}
\captionsetup[subfigure]{% changed <<<<<<<<<<<<<<<<
	singlelinecheck = false,
	justification=raggedright, 
	margin = {-3ex, 0mm}, % make margin font size dependent
}
%\newtheorem{Theorem}{Theorem}
%\numberwithin{Theorem}{chapter}
%\newtheorem{Proposition}{Proposition}
%\newtheorem{Lemma}[Theorem]{Lemma}
%\newtheorem{Corollary}[Theorem]{Corollary}
%\newtheorem{Example}[Theorem]{Example}
%\theoremstyle{definition}
\theoremstyle{definition}
\newtheorem{Remark}[Theorem]{Remark}
\theoremstyle{definition}
\newtheorem{Problem}{Problem}
\theoremstyle{definition}
\newenvironment{parts}{\begin{enumerate}[label=(\alph*)]}{\end{enumerate}}
%tikz	
\tcbset{breakable=true,toprule at break = 0mm,bottomrule at break = 0mm}
\usetikzlibrary{patterns}
\usetikzlibrary{matrix}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
% definitions of number sets
\newcommand{\N}{\mathbb{N}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\C}{\mathbb{C}}
\allowdisplaybreaks
%polar set
\newcommand{\polar}{\textrm{\tiny \fontencoding{U}\fontfamily{ding}\selectfont\symbol{'136}}}


\begin{document}
\newgeometry{margin=1in}
\begin{titlepage}
	{\begingroup% AW, Design of Books
		%\FSfont{5pl} % FontSite URW Palladio (Palatino)
		%\drop = 0.14\textheight
		\centering
		%\vspace*{\drop}
		{\Large Notes for the course in}\\[\baselineskip]
		{\Huge\bfseries FUNCTIONAL ANALYSIS}\\[\baselineskip]
		{\Large Held in WS24/25\\ At the JMU Würzburg\\ By Prof. Dr. Stefan Waldmann}\\[\baselineskip]
		{\LARGE By}\\[\baselineskip]
		{\LARGE Jun Wei Tan}\par
		\vfill
		{Julius-Maximilians-Universit\"{a}t W\"{u}rzburg}
		\vfill
		{\small\sffamily \href{mailto:jun-wei.tan@stud-mail.uni-wuerzburg.de}{jun-wei.tan@stud-mail.uni-wuerzburg.de}}\par
		\endgroup}
\end{titlepage}
\restoregeometry
	\tableofcontents
	\chapter{Topology}
	\section{Basic Concepts}
	We will be working with a subbasis:
	\begin{Definition}[Subbasis Topology]
		A subbasis $\mathcal{S}$ is a collection of open sets whose union equals the entire space. The topology generated by a subbasis is the union of finite intersections of elements of the subbasis.
	\end{Definition}
	This can also be understood as the smallest (coarsest) topology such that all elements of the subbasis are open.
	
	We can test continuity on a subbasis just as we would on a basis:
	\begin{Theorem}
		Let $f:(X_1, \tau_1)\to (X_2, \tau_2)$ be a map between topological spaces and $\mathcal{S}$ a subbasis of $(X_2, \tau_2)$. Then $f$ is continuous iff $f^{-1}(S)$ is open in $X_1$ for all $S\in \mathcal{S}$
	\end{Theorem}
	\begin{proof}
		If it is continuous, then the property is clearly satisfied since all elements of $\mathcal{S}$ are open. Conversely, we express an arbitrary open set $U\subseteq Y$ as a union of finite intersections of elements of $\mathcal{S}$, and the statement follows.
	\end{proof}
	\begin{Definition}[Weaker \& Stronger Topologies]
		A topology $\tau_1$ is called \uline{weaker} (or coarser) than a topology $\tau_2$ if $\tau_1\subseteq \tau_2$, i.e. that all $\tau_1$ open sets are also $\tau_2$ open.
		
		We say that $\tau_2$ is stronger (or finer) than $\tau_1$.
	\end{Definition}
	\begin{Corollary}
		If $\tau_1$ is weaker than $\tau_2$, then all $\tau_1$ closed sets are $\tau_2$ closed.
	\end{Corollary}
	\begin{proof}
		The complement of the set is $\tau_1$ open and hence also $\tau_2$ open.
	\end{proof}
	\begin{Corollary}
		If $\tau_1$ is weaker than $\tau_2$ and $U\subseteq X$, then the closure of $U$ in $\tau_2$ is a subset of the closure in $\tau_1$.
	\end{Corollary}
	\begin{proof}
		The closure of a set is the intersection of all closed subsets containing it. Since there are less $\tau_1$ closed sets, in general, the intersection will be larger.
	\end{proof}
	\begin{Corollary}
		If $\tau_1$ is weaker than $\tau_2$, then all $\tau_2$ compact sets are $\tau_1$ compact.
	\end{Corollary}
	\begin{proof}
		We consider an open covering of $\tau_1$ open sets. Since they are also $\tau_2$ open, we can use $\tau_2$ compactness to select a finite subcover. Thus, it is $\tau_1$ open.
	\end{proof}
	\begin{Theorem}[List of Useful Identities]
		\noindent
		\begin{parts}
			\item
			\[(A\cup B)^\text{cl}=A^\text{cl}\cup B^\text{cl}.\]
			\item 
			\[
			(A\cup B)^{\circ}\supseteq A^\circ \cup B^\circ
			.\] 
			\item \[
			(A\cap B)^\text{cl}\subseteq A^\text{cl}\cap B^\text{cl}
			.\]
			\item 	\[
			(A\cap B)^\circ = A^\circ \cap B^\circ
			.\] 
			\item \[
			(M\setminus A)^\text{cl}=M\setminus A^{\circ}
			.\]
			\item \[
			(M\setminus A)^\circ = M \setminus A^\text{cl}
			.\] 
		\end{parts}
	\end{Theorem}
\begin{proof}
	\begin{parts}
		\item If all neighbourhoods of $x$ intersects $A$, then they must certainly intersect $A\cup B$. The same thing happens if all neighbourhoods intersect $B$. Conversely, we suppose that $x$ is not in $A^\text{cl}$ or $B^\text{cl}$. Then we have an open neighbourhood not intersecting $A$, and an open neighbourhood not intersecting $B$. Considering the intersection of these two neighbourhoods shows that $x$ is not in the closure of $A\cup B$ either.
		\item $A^\circ\cup B^\circ$ is an open set contained in $A\cup B$.
		\item Suppose every neighbourhood of $x$ intersects $A\cap B$. Then every neighbourhood intersects $A$, and also intersects $B$.
		\item Clearly, $A^\circ \cap B^\circ$ is an open set contained in $A\cap B$. Conversely, it is also true that $(A\cap B)^\circ$ is an open set contained in $A$, and thus its interior, and it is also contained in $B$.
		\item Clearly, $M \setminus A^\circ$ is a closed set containing $M\setminus A$. This shows one inclusion.
		
		Now suppose $x\in M \setminus A^\circ$. Since it is not in the interior, no open neighbourhood of $x$ is completely contained in $A$; in particular, every neighbourhood must intersect $M\setminus A$. This shows the reverse inclusion.
		\item Clearly, $M\setminus A^\text{cl}$ is an open subset of $M \setminus A$.
		
		Conversely, suppose $x$ is an element of $(M \setminus A)^\circ$. Then there is an open neighbourhood of $x$ contained in $M \setminus A$, in particular not intersecting A. This shows that $x$ is in $M \setminus A^\text{cl}$.\qedhere
	\end{parts}
\end{proof}
\begin{Definition}[Preorder]
	A relation $\preceq$ on a set $A$ is a preorder if the following conditions hold:
	\begin{parts}
		\item $\alpha \preceq \alpha$ for all $\alpha\in A$
		\item If $\alpha\preceq \beta$ and $\beta\preceq\gamma$, then $\alpha\preceq\gamma$.
	\end{parts}
\end{Definition}
\begin{Definition}
	A \emph{directed set} $A$ is a set with a preorder and the following additional condition: For all $\alpha, \beta\in A$, there is some $\gamma$ with $\alpha \preceq \gamma$ and $\beta\preceq \gamma$. 
\end{Definition}
\begin{Remark}
The additional condition $\alpha\preceq \beta$ and $\beta\preceq \alpha\implies \beta=\alpha$ is known as a \emph{partial order}. This is sometimes too restrictive, and is usually not important. The important property is the defining property of a directed set.
\end{Remark}
\begin{Definition}
	A map from a directed set $I$ into a set $X$ is called a \emph{net} (indexed by $I$). The elements of this net are denoted by $(x_i)_{i\in I}$.
\end{Definition}
\begin{Definition}[Convergence]
	Let $X$ now be a topological space. We say that a net $(x_i)_{i\in I}$ converges to $x$ if for every neighbourhood $U$ of $x$ there is $\alpha\in I$ such that $\beta\succeq \alpha\implies x_\beta\in U$.
\end{Definition}
\begin{Theorem}
	The limit of a net is unique if the space $X$ is Hausdorff.
\end{Theorem}
\begin{proof}
The proof is analogous to that of a sequence.
\end{proof}

It is obvious that all sequences are nets. The difference is as follows: A sequence only has countably many elements. Thus, it is possible that there will be too many open sets. This leads us to our next theorem:

\begin{Theorem}
	Let $X$ be a topological space and $(x_i)_{i\in I}$ be a net converging to $x$. If $X$ is first countable, then there is a sequence converging to $x$.
\end{Theorem}

In general, we have the following theorem

\begin{Theorem}
	Let $A$ be a subset of the topological space $X$. $x\in A^\text{cl}$ if and only if there is a net in $A$ converging to $x$.
\end{Theorem}
\section{Baire Spaces}\label{subsec:baire}
	\begin{Definition}[Nowhere Dense]
		A subset $A$ of a topological space is called nowhere dense if the interior of its closure is open, $(A^\text{cl})^\circ=\varnothing$. 
	\end{Definition}
\begin{Theorem}
	A subset $A$ of a topological space $(M, \mathcal{M})$ is nowhere dense iff its complement contains a dense open set.
\end{Theorem}
\begin{proof}
		We perform the following computation:
		\begin{align*}
			A\text{ nowhere dense}&\iff (A^\text{cl})^\circ = \varnothing\\
			&\iff M \setminus (A^\text{cl})^\circ = M\\
			&\iff (M \setminus A^\text{cl})^\text{cl}=M\\
			&\iff ((M \setminus A)^\circ)^\text{cl}=M\\
			&\iff (M \setminus A)^\circ\text{ is dense}.\qedhere
		\end{align*}
\end{proof}
\begin{Definition}[Meager]
	A subset is called meager if it is a countable union of nowhere dense sets.
\end{Definition}
Note that the entire topological space can be meager - for example, consider $\Q$ with its usual topology. Then $\Q$ is a countable union of singletons, which are themselves nowhere dense. Thus, $\Q$ is meager in $\Q$.
\begin{Theorem}\label{thm:bairecond}
	Let $(M, \mathcal{M})$ be a topological space. Then the following are equivalent:
	\begin{parts}
		\item Any countable union of closed subsets of $M$ without inner points has no inner points.
		\item Any countable intersection of open dense subsets of $M$ is dense.
		\item Every non-empty open subset of $M$ is not meager
		\item The complement of every meager subset of $M$ is dense.
	\end{parts}
\end{Theorem}
\begin{proof}
	The proof follows (a) $\implies$ (b) $\implies$ (c) $\implies$ (d) $\implies$ (a).
	\begin{enumerate}
		\item Let $(U_i)_{i\in \N}$ be a collection of dense open subsets of $M$. We consider their complements, which all have empty interior. Since
		\[M \setminus \left(\bigcap_{i=1}^\infty U_i\right)=\bigcup_{i=1}^\infty \left(M \setminus U_i\right)\]
		and the sets in the union on the right are all closed subsets without interior points, their union has no interior points, hence the countable intersection is dense.
		\item Suppose we had a meager nonempty open subset $U$ of $M$, that is, we have $U=\bigcup_{i=1}^\infty A_i$ with $A_i$ nowhere dense sets. Then $M \setminus A_i$ is a dense subset for all $i$, by (b), their intersection is still dense. Then
		\begin{align*}
			\varnothing &= M \setminus \left(\bigcap_{i=1}^\infty (M \setminus A_i^\text{cl})\right)^\text{cl}\\
			&= M \setminus \left(M \setminus \bigcup_{i=1}^\infty A_i^\text{cl}\right)^\text{cl}\\
			&= M \setminus \left(M \setminus\left(\bigcup_{i=1}^\infty A_i^\text{cl}\right)^\circ\right)\\
			&=\left(\bigcup_{i=1}^\infty A_i^\text{cl}\right)^\circ,
		\end{align*}
	which is a contradiction, since we had $U$ as a nonempty open subset of the final union. 
	\item Suppose we have a meager subset $A$ such that $M\setminus A$ is not dense. Then $(M \setminus A)^\text{cl} = M \setminus A^\circ \neq M$. Then $A$ has nonempty interior, contradicting (c).
	\item Finally, let us consider a sequence of closed sets $(A_n)_{n\in \N}$ without interior points, and we suppose that their union has a nonempty interior. Then
	\[\left(M \setminus \bigcup_{n=1}^\infty A_n\right)^\text{cl}=M \setminus \left(\bigcup_{n=1}^\infty A_n\right)^\circ\neq M,\]
	contradicting (d), since $\bigcup_{n=1}^\infty A_n$ is meager and hence has a dense complement.\qedhere
	\end{enumerate}
\end{proof}
	\begin{Definition}[Baire Spaces]
		A topological space $X$ is a Baire space if one (and hence all) of the conditions of Theorem~\ref{thm:bairecond} hold.
	\end{Definition}
Note that if $X$ is a nonempty Baire space, then it cannot be meager. For if $X$ were a Baire space, we would have
\[X = \bigcup_{n=1}^\infty U_n\]
with all $U_n$s meager. Then $X=\bigcup_{n=1}^\infty \overline{U_n}$, which is a contradiction, since this is a union of closed subsets without interior points, which must have empty interior, but the interior of $X$ is $X$, which is nonempty.

Theorem \ref{thm:bairecond} is clearly unwieldy, and one must first show that a space is a Baire space before even beginning to apply this theorem. Thus, we seek easier conditions with which we can verify that a space is a Baire space. These theorems are known as Baire's Theorems.
	\begin{Theorem}[Baire I]\label{thm:baire1}
		A complete metric space $(M,d)$ is a Baire space.
	\end{Theorem}
\begin{proof}
	We seek to show the condition in Theorem~\ref{thm:bairecond}(b). Let us consider a collection of dense open sets $O_n$ and a point $x\in M$, as well as an open neighbourhood $U$ of $x$. Since $U$ intersects $O_1$, we can find an open ball $B_{\epsilon_1}(p_1)$ whose closure is contained in $U \cap O_1$. Inductively, we construct open balls $B_{\epsilon_n}(p_n)$ such that $B_{\epsilon_n}(p_n)^\text{cl}\subseteq B_{\epsilon_{n-1}}(p_{n-1})$. Then, 
	\[\bigcap_{i=1}^\infty B_{\epsilon_n}(p_n)^\text{cl}\subseteq U \cap \bigcap_{i=1}^\infty O_n\]
	But since the metric space is complete, the intersection on the left side is nonempty. Thus, the intersection on the right is nonempty. Since $U$ was an arbitrary open set, the intersection is dense. 
\end{proof}
Before we prove the second theorem, we require an additional lemma
\begin{Lemma}
	Let $X$ be a topological space. Then $X$ is compact if and only if for all collections of closed sets $\mathcal{C}$ such that every finite subcollection has nonempty intersection, the intersection of all elements of $\mathcal{C}$ is nonempty.
\end{Lemma}
\begin{proof}
	We prove this by considering the complement collection $\mathcal{A} =\{X\setminus C|C\in \mathcal{C}\}$. The following statements are true
	\begin{enumerate}
		\item $\mathcal{A}$ is a collection of open sets iff $\mathcal{C}$ is a collection of closed sets.
		\item $\mathcal{A}$ covers $X$ iff the intersection of the elements in $\mathcal{C}$ is nonempty (follows from De Morgan's Laws)
		\item The finite subcollection $A_1, \dots, A_n$ covers $X$ iff the intersection of $C_1, \dots, C_n$ is empty.
	\end{enumerate}
	Then, we take the contrapositive of the definition of compactness: ``$X$ is compact iff for all open covers $\mathcal{A}$ we have: If no finite subcollection of $\mathcal{A}$ covers $X$, then $\mathcal{A}$ does not cover $X$''
	
	This statement is then equivalent to: For all closed collection of sets $\mathcal{C}$, if no finite subcollection of $\mathcal{C}$ has empty intersection, then the intersection of all elements does not have empty intersection.
\end{proof}
	\begin{Theorem}[Baire II]\label{thm:baire2}
		A locally compact Hausdorff space $(M, \mathcal{M})$ is a Baire space.
	\end{Theorem}
	\begin{proof}
		The proof follows similarly to the earlier case. Let $O_n$ be a countable collection of open sets. We consider an arbitrary open neighborhood $U$. 
		
		Since $M$ is locally compact Hausdorff, we have neighborhood basis of compact sets and can choose an open set $B_1$ with
		\[B_1 \subseteq B_1^\text{cl}\subseteq O_1 \cap U\]
		such that $B_1^\text{cl}$ is compact. Iteratively, we get
		\[B_n\subseteq B_n^\text{cl}\subseteq O_n\cap B_{n-1}.\]
		Then, we consider
		\[K = \bigcap_{n=1}^\infty B_n^\text{cl}.\]
		This set is closed. As a closed subspace of a compact Hausdorff space, it is also compact. Thus, it is nonempty. Then we have $K\subseteq \cap_{n=1}^\infty O_n$ by construction, as well as $K\subseteq U$. This tells us that
		\[U \cap \bigcap_{n=1}^\infty O_n\neq\varnothing.\qedhere\]
	\end{proof}
	\chapter{Topological Vector Spaces}
	\begin{Definition}
		A topological vector space is a vector space with a topology such that addition and scalar multiplication are continuous.
	\end{Definition}
	\begin{Theorem}
		Translation $T_v:x\mapsto x + v$ and multiplication $\lambda: x \mapsto \lambda x$ with $\lambda\neq0$ are homeomorphisms.
	\end{Theorem}
	\begin{proof}
		They are invertible with continuous inverse $T_{-v}$ and $\frac 1\lambda$ respectively
	\end{proof}
	It is defined in some books that a topological vector space must be $T_1$ (or $T_0$). The usefulness of this definition comes from the fact that $T_0$ topological vector spaces are automatically $T_2$ and $T_3$. This is, in fact, not a statement about topological vector spaces, but about topological groups. Before we prove the result, we will need the following lemmas
	\begin{Lemma}
		Let $G$ be a group that is also a $T_1$ topological space. $G$ is a topological group iff the map $G \times G \to G, (x,y)\mapsto xy^{-1}$ is continuous.
	\end{Lemma}
\begin{proof}
	Clearly, if $G$ is a topological group, then the map is continuous. 
	
	Conversely, we consider $y \mapsto (e,y) \mapsto y^{-1}$, which is continuous as a composition of continuous functions. Then $(x,y) \mapsto (x, y^{-1}) \mapsto xy$ is continuous, again as a composition of continuous functions.
\end{proof}
\begin{Lemma}
	A topological space $X$ is Hausdorff iff the diagonal $X\times X$ is closed.
\end{Lemma}
\begin{proof}
	Suppose the diagonal is closed. Then, given $(x,y)$, there is an open set $Z$ and a basis element $U\times V$ such that $(x,y)\in U\times V \subseteq Z$. Since this does not intersect the diagonal, it follows that $U$ and $V$ must be disjoint.
	
	Conversely, given $x$ and $y$, we can find disjoint open sets $U$ and $V$ containing $x$ and $y$, and $U\times V$ does not intersect the diagonal, since they are disjoint. 
\end{proof}
Now, we move on to our first result about regularity. This is independent of the other separation axioms:
\begin{Theorem}[Regularity of Topological Groups]
	Let $G$ be a topological group. It is regular. In particular, for all points $x\in G$ and closed sets $A$ not containing $x$, we have a neighbourhood $V$ of $e$ such that $V\cdot x$ and $V\cdot A$ are disjoint.
\end{Theorem}
\begin{proof}
Firstly, we show that for all neighbourhoods $U$ of $e$, there is a symmetric neighbourhood $V$ such that $V\cdot V\subseteq U$ of $e$.	

This follows because the map $(x,y)\mapsto x\cdot y$ is continuous, hence there is a neighbourhood $V$ such that $V\cdot V\subseteq U$. Then because $(x,y)\cdot x\cdot y^{-1}$ is continuous, there exists $W$ with $W\cdot W^{-1}\subseteq V$. Then $W \cdot W^{-1}$ is the desired symmetric neighbourhood.

Now, since $A$ is closed, we have $A\cdot x^{-1}$ closed (and not containing $e$), thus we choose an open symmetric neighbourhood $V$ of $e$ such that $V\cdot V\cap (A \cdot x^{-1})=\varnothing$.

Now we show that $V\cdot x$ and $V \cdot A$ are disjoint. Suppose not. Then we have $v\cdot x=v'\cdot a$ for $v,v'\in V,a\in A$. However, this also means that $v^{\prime-1}\cdot v = a \cdot x^{-1}$, a contradiction.
\end{proof}
As a corollary we have, by a simple change of notation:
\begin{Corollary}
	Let $V$ be a topological vector space, $A\subseteq V$ closed and $v\in V$. Then there exists a symmetric neighbourhood $U$ of $0$ such that $(A+U)\cap (v+U)=\varnothing$.
\end{Corollary}
We can also extend this to compact sets:
\begin{Corollary}\label{cor:compacttranslates}
	Let $V$ be a topological vector space, $A\subseteq V$ closed, $K\subseteq V$ compact. Then there exists a symmetric neighbourhood $U$ of $0$ such that $(A+U)\cap (K+U)$.
\end{Corollary}
\begin{proof}
	As usual, we apply the previous corollary to each point $x\in K$. Then we choose a finite subcover of these, and take their intersections.
\end{proof}
Now, we move on to the more important result:
	\begin{Theorem}[Separation Properties of Topological Groups]
		Let $G$ be a $T_0$ topological group. Then it is $T_1, T_2$ and $T_3$.
	\end{Theorem} 
\begin{proof}
	We will prove $T_0\implies T_1\implies T_2$. 
	
	The goal is: We show that $\{e\}$ is closed. Pick $g\neq e$. Because $G$ is $T_0$, either $G \setminus \{e\}$ is a neighbourhood of $g$, or $G \setminus \{g\}$ is a neighbourhood of $e$. Suppose the latter. Then applying the translation $T_{g^{-1}}$ shows that $G \setminus \{e\}$ is a neighbourhood of $g^{-1}$, and applying the inversion map shows that $G \setminus \{e\}$ is a neighbourhood of $g$. Thus $\{e\}$ is closed.
	
	Then the translations show that every singleton set is closed.
	
	Note: If the group is abelian, then the proof is significantly easier: We suppose $U$ is a neighbourhood of $x$ not containing $y$. Then $x+y-U$ is a neighbourhood of $y$ not containing $x$. 
	
	Now let the identity be closed. The diagonal of $G\times G$ is the preimage of $\{e\}$ under the map $(x,y)\mapsto xy^{-1}$, hence the diagonal is closed too. This shows that $G$ is Hausdorff.
	
	Since all topological groups are regular, this shows $T_3$.
\end{proof}
As a final result, we note that finite dimensional topological vector spaces are boring:
\begin{Theorem}\label{thm:finitedimboring}
	All Hausdorff topological vector spaces of finite dimension $n$ are isometrically isomorphic to $\R^n$ or $\C^n$.
\end{Theorem}
	\section{Continuity}
	\begin{Definition}[Uniform Continuity]
		Let $V,W$ be topological vector spaces and $\phi:V\to W$ be a map. Then $\phi$ is called uniformly continuous if for all neighbourhoods $U\subseteq W$ of $0$ there exists a neighbourhood $Z\subseteq V$ such that $v-v'\in Z\implies \phi(v)-\phi(v')\in U$.
	\end{Definition}
	\begin{Theorem}[Equivalence of Continuity Conditions]
		Let $V$ and $W$ be topological vector spaces and let $\phi:V\to W$ be a linear map. Then the following are equivalent
		\begin{parts}
			\item The map $\phi$ is continuous at $0$.
			\item The map $\phi$ is continuous at some $v\in V$.
			\item The map $\phi$ is continuous.
			\item The map $\phi$ is uniformly continuous.
		\end{parts}
	\end{Theorem}
	\begin{proof}
		\begin{enumerate}
			\item Assume $\phi$ is continuous at 0. 
			
			Recall: This means that for all neighbourhoods $U$ of $0_W$, there is a neighbourhood $Z$ of $0_V$ such that $\phi(Z)\subseteq V$. Now choose $v\in V$ and a neighbourhood $U\ni \phi(v)$. Then $T_{-v}(U)$ is a neighbourhood of $0_W$, and we choose a neighbourhood $Z$ of $0$ such that $\phi(Z)\subseteq T_{-v}(U)$ by continuity at $0$. Then $T_v(Z)\subseteq U$ and contains $v$, as desired.
			\item Repeating the same proof, we can get continuity at every point in $V$, which is equivalent to continuity.
			\item We actually only need continuity at 0. Given an open neighbourhood $Z$ of $0_W$, we choose an open neighbourhood $U$ of $0_V$ that maps into $Z$. Then we have, for $v-u\in Z$, that $\phi(v)-\phi(u)=\phi(v-u)\in W$.
			\item Uniform continuity directly implies continuity at 0 if we take $v'$ to be $0$ in the definition. \qedhere
		\end{enumerate}
	\end{proof}
	\begin{Definition}[Algebraic and Topological Dual]
		The algebraic dual of a vector space $V$ is the well known space of linear maps from $V$ to the field over which it is defined. We denote this by $V^*=\text{Hom}(V,\mathbb{K})$. The topological dual $V'=L(V, \mathbb{K})$ is the space of all \emph{continuous} linear maps. Clearly, $L(V, \mathbb{K})\subseteq \text{Hom}(V,\mathbb{K})$.
	\end{Definition}
Note that in a complex vector space, all linear functionals are uniquely defined by their real part:
\begin{Theorem}
	Let $f$ be a linear functional such that $g$ is its real part. Then
	\[f(v) = g(v) - ig(iv).\]
\end{Theorem}
\begin{proof}
	Define the imaginary part of the functional to be $h$, such that $f=g+ih$. Then, $f(iv) = g(iv) + ih(iv)$. On the other hand, by linearity, $f(iv) = if(v) = ig(v) - h(v)$. Comparing real parts, we have
	\[g(iv) = -h(v)\]
	or
	\[f(v) = g(v) - ig(v)\]
	as desired.
\end{proof}
	\section{Subspaces}
	\begin{Theorem}
		Let $V$ be a topological vector space. If $W\subseteq V$ is a subspace, then its closure $W^\text{cl}$ is also a subspace of $V$.
	\end{Theorem}
	\begin{proof}
Suppose $v,w\in W^\text{cl}$. Then there are nets $(v_i)_{i\in I}$ converging to $v$ and $(w_i)_{i\in I}$ converging to $w$. Then $(v_i+w_i)_{i\in I}$ is a net converging to $v+w$, hence $v+w$ is still in $W^\text{cl}$. 
	\end{proof}
\begin{Theorem}
	All proper subspaces $S$ of a topological vector space $V$ have empty interior.
\end{Theorem}
\begin{proof}
The proof follows in two steps: First, we translate an open set contained in $S$ to the origin. Then, since all neighbourhoods of the origin are absorbing, $S=V$ by scaling.
\end{proof}
\begin{Theorem}
	All finite dimensional subspaces of a Hausdorff topological vector space are closed.
\end{Theorem}
\begin{proof}
	Since a subspace of a Hausdorff space must itself be Hausdorff, it is isometrically isomorphic to $\mathbb{K}^n$ by Theorem \ref{thm:finitedimboring}. Thus, it is complete and hence closed. 
\end{proof}
	\chapter{Banach Spaces}
	\section{Introductory Definitions}
	\subsection{Norms \& Seminorms}
	\begin{Definition}[Norm]
		A norm $\|\cdot\|$ on a vector space $V$ is a function $V\to \R$ that satisfies
		\begin{parts}
			\item (Homogenity) $\|sv\|=|s|\cdot \|v\|$ for all vectors $v$ and scalars $s$
			\item (Triangle Inequality) $\|u+v\|\le \|u\| + \|v\|$
			\item (Positivity) $\|v\|>0$ for all $v\neq 0$.  
		\end{parts}
	\end{Definition}
	\begin{Remark}
		A norm induces a topology through the metric defined by $d(v, w)=\|v-w\|$. If a vector space has this topology, it is known as a \emph{normed space}.
	\end{Remark}
	\begin{Definition}[Banach Space]
		A Banach space is a complete normed space.
\end{Definition}
	\begin{Definition}[Seminorm]
		A seminorm $p$ is a norm without the positivity condition. Instead, we have positive semidefiniteness, i.e.
		\[p(v)\ge 0~\forall v\in V.\]
	\end{Definition}
	Note that a seminorm does not form a metric space. We define the \emph{kernel} of the seminorm as the set $\{v\in V|p(v)=0\}$. Note that this is a subspace. To get an actual norm, we must ``divide'' by the kernel.
	
	We can define a norm on the quotient vector space $V / \text{ker } p$ by letting the seminorm $p$ act on any representative of this space. 
	\begin{Theorem}[Quotient of Norms]
		The norm $\|\cdot \|: V / \text{ker } p\to \R$,  $[v] \mapsto p(v)$ is a norm.
	\end{Theorem}
\begin{proof}
	First, we show that it is well defined. Consider $v\in V$ and let $u\in \text{ker }p$ be arbitrary. Then we have
	\[p(v+u)\le p(v)+p(u)=p(v)\]
	by the triangle inequality, and conversely
	\[p(v)=p(v-u+u)\le p(v+u)+p(u)=p(v+u)\]
	which shows that the norm is independent of the choice of representative.
	
	The triangle inequality and homogenity follow from the same properties of the seminorm. It is also true by definition that the norm is positive.
\end{proof}
Thus, given a seminorm on a vector space, we can construct a new vector space that has a norm, and thus an induced topology. 
\begin{Theorem}[Operator Norm]
	Let $V,W$ be normed spaces and let $A:V\to W$ be a linear map. Then the following statements are equivalent:
	\begin{parts}
		\item $A$ is continuous.
		\item There exists a constant $c\ge 0$ such that
		\[\|A(v)\| \le c\|v\|\]
		for all $v\in V$.
	\end{parts}
\end{Theorem}
\begin{proof}
	We use the fact that continuity is equivalent to continuity at 0. Then, we simply unravel the definitions. $A$ is continuous at 0 if for every neighbourhood $Z\subseteq W$ of $0_W$ we have a neighbourhood $U\subseteq V$ of $0_V$ such that $A(U)\subseteq V$.
	
	Equivalently, we can consider open balls in place of $Z$ and $U$. This is then equivalent to the second condition.
\end{proof}
Note that we could have proven a weaker theorem in the case of topological vector spaces. To do that, we would define boundedness as follows:
\begin{Definition}
	A function $\Lambda:V\to W$ between topological vector spaces is bounded if it maps bounded sets into bounded sets
\end{Definition}
where a bounded set is defined as
\begin{Definition}
	A subset $U$ of a topological vector space $V$ is bounded if for each neighbourhood $V$ of $0$ there exists $t\in \mathbb{K}$ such that $U\subseteq tV$. 
\end{Definition}
We can see that boundedness in the normed setting implies boundedness in the general topological vector space setting. In general, however, continuity implies boundedness, and the converse is not true. Thus, we will only discuss this in Banach spaces in the future. 
	\begin{Definition}[Operator Norm]
		The operator norm $\|A\|$ is defined as
		\[\|A\|=\inf \{c| \|Av\| \le c\|v\|~\forall v\in V\}\]
	\end{Definition}
	\begin{Corollary}[Equivalent Statements]\noindent
		\begin{parts}
			\item \[\|A\|=\sup_{V\ni v \neq 0}\frac{\|Av\|}{\|v\|}\]
			\item \[\|A\| = \sup_{\|v\|=1}\|A v\|\]
		\end{parts}
	\end{Corollary}
	\begin{Theorem}[Operator Composition]
		Let $V,W, Z$ be normed spaces, $A\in L(V,W)$, $B\in L(W,Z)$. Then
		\[\|B\circ A\| \le \|A\| \|B\|.\]
	\end{Theorem}
\begin{proof}
	For $v\in V$, we have
	\[\|BAv\|\le \|B\| \|Av\| \le \|B\| \|A\| \|v\|.\qedhere\]
\end{proof}
Note that the above definition shows once again the continuity of composition. Also note that this norm turns $L(V,W)$ into a normed space.

Another interesting property that can be defined with a norm is that of \emph{absolute convergence} of series. Recall the following definitions
\begin{Definition}[Absolute Convergence]
	A series $\displaystyle\sum_{n=1}^\infty x_n$ is called \emph{absolutely convergent} if the series $\displaystyle\sum_{n=1}^\infty \|x_n\|$ converges.
\end{Definition}
\begin{Definition}[Unconditional Convergence]
	A series is called \emph{unconditionally convergent} if every rearrangement of the series converges to the same value.
\end{Definition}
The first result is familiar to all:
\begin{Proposition}
Let $V$ be a complete normed space. Then an absolutely convergent series $\displaystyle \sum_{n=1}^\infty v_n$ is convergent.
\end{Proposition}
\begin{proof}
	We have
	\[\left\|\sum_{n=N}^M v_n \right\| \le \sum_{n=N}^M \| v_n\|\]
	which shows that the series is Cauchy. Since $V$ is complete, it is convergent.  
\end{proof}
The second result is that absolute convergence implies unconditional convergence
\begin{Theorem}[Absolute implies Unconditional Convergence]
	Suppose the series $\sum_{n=1}^\infty v_n$ in a Banach space is absolutely convergent. Then it is unconditionally convergent.
\end{Theorem} 
\begin{proof}
	Since the series is in a Banach space, it is convergent. Denote its limit by $v$. \textcolor{red}{TODO}
\end{proof}
	\subsection{Bases}
	\begin{Definition}[Hamel Basis]
		A Hamel basis is a set $B\subseteq V$ such that for all $v\in V$, we have
		\[v=\sum_{k=1}^n a_k e_k\]
		with $a_i\in \mathbb{K}$ and $e_i\in B$ for all $i$, and
		\[\sum_{k=1}^n a_k e_k=0\implies a_i=0\forall i.\]
	\end{Definition}
	The existence of Hamel bases is equivalent to the axiom of choice, and can be proven by Zorn's Lemma. The proof is as follows: We construct minimal spanning sets and maximally linearly independent sets by Zorn's Lemma (partial order by inclusion), and show that they are the same. These sets are Hamel bases.
	
	A Hamel basis has all the beloved properties of a basis from finite dimensional linear algebra. For example, a linear map is uniquely defined through its action on the Hamel basis:
	\[Av = \sum_{k=1}^n a_k Ae_k.\]
	However, a Hamel bases are usually difficult to come by, as we see with the following theorem:
	\begin{Theorem}
		A Banach space with a countable Hamel basis is finite dimensional. 
	\end{Theorem}
\begin{proof}
	Suppose we have a countable Hamel basis $(e_n)_{n\in \N}$ of a Banach space $V$. Denote $M_n=\text{span}(\{e_1, \dots, e_n\})$. This is a closed proper subspace of $V$. Thus it has empty interior. However, because by definition the $e_n$s form a Hamel basis, we have $V=\bigcup_{k=1}^\infty M_k$, contradicting Baire's category theorem.
\end{proof}
Note that Hamel bases generally interact very poorly with the topology. For example, the projection maps do not have to be continuous.
\begin{Example}
	Let $V$ be the space of polynomials on the interval $[0,1]$ equipped with the norm $\|p\|=\int_0^1 |p(x)|\dd{x}$. Then the projection onto the constant term is not continuous.
\end{Example}
\begin{proof}
	The sequence
	\[\int_0^1 |(x-1)|^n\dd{x} = \frac{(-1)^{n+1}}{n+1}\]
	converges to $0$, but the projection of the polynomials onto the constant term yields the sequence $(-1)^n$, which is not convergent. Thus, the projection cannot be continuous.
\end{proof}
In fact, this poor interplay yields the most interesting application of Hamel bases - the existence of \emph{discontinuous} linear functionals.
\begin{Theorem}[Existence of Discontinuous Functionals]\label{thm:discontinuousfunctionals}
	Let $V$ be an infinite dimensional normed space. Then there exist discontinuous linear functionals on $V$.
\end{Theorem}
\begin{proof}
	Choose a countable linearly independent set $\{v_n\}$. Without loss of generality, we can normalize all vectors to norm 1. This set is contained in some Hamel basis $B$. Define $f(v_n)=n$, and $f(v)=0$ for $v\in B\setminus \{v_n\}$. This functional is unbounded.
\end{proof}
	\begin{Definition}[Schauder Basis]
		A Schauder basis is a countable set $\{e_n\}\subseteq V$ such that all vectors $v\in V$ can be uniquely expressed as a sum
		\[v=\sum_{k=1}^\infty a_k e_k,\]
		where the convergence is understood to be in the topology of the vector space. 
	\end{Definition}
The importance of a Schauder basis is that it is countable, and we are still able to define \emph{some} linear maps by their action on the basis. In particular, for any continuous linear map $A$, we have
\[Av = \sum_{k=1}^\infty a_k Ae_k.\]
Also important to note is that this basis must be \emph{ordered}, since the sum does not necessarily converge unconditionally. 
\subsection{Examples}
\begin{Example}[The Space $c$]
	The space $c$ is the space of convergent sequences with the supremum norm. It is complete.
\end{Example}
\begin{Example}[The Space $c_0$]
	The space $c_0$ is the space of sequences converging to 0 also with the supremum norm. It is a subspace of $c$ with codimension 1. It is also complete.
	
	To show this, we show that the limit functional is continuous and we have
	\[c_0 = \ker \lim\]
	which is closed.
\end{Example}
\begin{Example}[The Space $c_{00}$]
	The space $c_{00}$ is the space of sequences that are 0 outside of finitely many elements. This is a subspace of $c_0$. It is the prototype for a non complete space. 
	
	In fact, we have
	\[c_{00}^\text{cl}\subseteq c_0^\text{cl}=c_0\]
	and we can show that every element of $c_0$ can be expressed as a limit of elements of $c_{00}$.
\end{Example}
\begin{Example}[Discontinuous Linear Functionals]
	The simplest example of a discontinuous linear in a non-complete space is the functional $f(e_i)=i$ defined on $c_{00}$. 
	
	This is to be contrasted with Theorem \ref{thm:discontinuousfunctionals}, where we required the axiom of choice to construct a Hamel basis and then discontinuous linear functionals.
\end{Example}
\begin{Example}[Non-Closed Subspaces]
	Every subspace of a Banach space with countable dimension cannot be closed, as it would then be complete, a contradiction, as Banach spaces cannot have countable dimension. 
\end{Example}

Note that we always have dense proper subspaces:

\begin{Example}[Dense Proper Subspaces]
	Let $V$ be any infinite dimensional normed space. Then $V$ has a proper dense subspace.
\end{Example}
\begin{proof}
	We have a discontinuous linear functional $\varphi$ on it by Theorem \ref{thm:discontinuousfunctionals}. We claim that the \emph{topological annihilator}
	\[\varphi^\perp = \{v\in V|\varphi(v) = 0\}\]
	is a dense subspace of $V$.
	
	Since $\varphi$ is unbounded, we can choose a sequence $v_n$ with $\|v_n\| = 1$ and $|\varphi(v_n)| > n$. Then, we take
	\[u_n = x - \frac{\varphi(x)}{\varphi(v_n)}v_n\in \varphi^\perp\]
	and we have
	\[\|x - u_n\| = \left|\frac{\varphi(x)}{\varphi(v_n)}\right|< \frac{\varphi(x)}{n}\]
	showing that the topological annihilator is dense.
\end{proof}
\begin{Example}[Smooth Functions]
	The space $C^k([a,b])$ of $k$ times continuously differentiable functions becomes a Banach space with the norm
	\[\|f\| = \sum_{n=0}^k \sup_{x\in [a,b]} f^{(n)}(x).\]
\end{Example}
The prototypical example of a dual is the $\ell^p$ and $\ell^q$ spaces, i.e. the sequence spaces
\begin{Definition}[$\ell^p$]
	The space of sequences $(x_n)_{n\in \N}$ with the norm
	\[\|x\|_p = \left(\sum_{k=1}^\infty |x_n|^p\right)^{1/p}\]
	is a Banach space with $p\in (1,\infty)$. If $p=\infty$, we define
	\[\|x\|_\infty = \sup_{k\in \N} |x_k|\]
	and it is still a Banach space.
\end{Definition}
That this is a Banach space follows from the 3 classic inequalities
\begin{Theorem}[Young's Inequality]
	Let $a,b\ge 0$ and $p,q>1$ such that
	\[\frac 1p + \frac 1q = 1.\]
	Then
	\[ab \le \frac{a^p}{p}+ \frac{b^q}{q}\]
\end{Theorem}
\begin{Theorem}[Hölder's Inequality]
	Let $(x_n)_{n\in \N},~(y_n)_{n\in \N}$ be sequences in $\ell^p$ and $\ell^q$ respectively with
	\[\frac 1p + \frac 1q = 1.\]
	We define the product sequence $xy$ such that $(xy)_k = x_k y_k$. Then
	\[\|xy\| \le \|x\|_p \|y\|_q.\]
\end{Theorem}
\begin{Corollary}\label{cor:productwelldef}
	Suppose
	\[\frac 1p + \frac 1q = 1.\]
	Then the product of sequences
	\[\ell^p \times \ell^q\ni (x_n)_{n\in \N}\times (y_n)_{n\in N} \to (x_ny_n)_{n\in \N}\]
	is a continuous bilinear map into $\ell^1$.
\end{Corollary}
\begin{proof}
Hölder's inequality tells us that
\[\|xy\|_1 \le \|x\|_p \|y\|_q\]
or that this is well defined, and bounded with operator norm less than one. It is also clearly bilinear.
\end{proof}
\begin{Example}[$(\ell^p)' =\ell^q$]
	Let $p\in (1,\infty)$ and $q\in (1,\infty]$ with $\frac 1p + \frac 1q = 1$. Then the multiplication
	\[\ell^p \times \ell^q \ni (x_n)_{n\in \N} \times (y_n)_{n\in \N} \to \sum_{k=1}^\infty x_k y_k\]
	is a continuous linear functional on $\ell^p$ for each $y\in \ell^q$, thus inducing a continuous linear functional $\phi:\ell^q \to (\ell^p)'$. Additionally, $\phi$ is invertible with $\phi^{-1}$ being an isometry.
\end{Example}
\begin{proof}
	From Corollary \ref{cor:productwelldef}, we know that this sum converges absolutely and is hence convergent. Additionally, we have
	\[\left| \sum_{k=1}^\infty \right| \le \sum_{k=1}^\infty |x_k y_k| \le \|x\|\|y\|\]
	Thus shows us that the induced functional is continuous with operator norm less than the norm of $y$. Thus, the induced map $\phi$ is continuous with operator norm less than 1.
	
	For the inverse, we consider a Schauder basis $(e_n)$ of $\ell^p$ \textcolor{red}{TODO}
\end{proof}
	\section{The Hahn-Banach Theorems}
	\subsection{Sublinear Functionals}
	\begin{Definition}
		Let $V$ be a vector space over $\mathbb{K}$. A functional $p$ is called \emph{sublinear}, if
		\begin{parts}
			\item (Homogenity) $p(rx)=rp(x)$ for all real $r\ge 0$ and $v\in V$.
			\item (Subadditivity) $p(u+v)\le p(u)+p(v)$ for all $u,v\in V$
		\end{parts}
	\end{Definition}
The main property that relates sublinear functionals to linear functionals is as follows:
\begin{Theorem}
	If $p$ is a sublinear functional on a real vector space $V$, then the following are equivalent:
	\begin{parts}
	\item $p$ is linear
	\item $p(v)+p(-v)=0$ for all $v\in V$.
	\item $p(v)+p(-v)\le 0$ for all $v\in V$
	\end{parts}
\end{Theorem}
\begin{proof}
	If $p$ is linear, then $p(v)+p(-v)=p(v-v)=p(0)=0$. Clearly, (b) implies (c).

	Now assume (c). First, we prove (b):
	\[
	0=p(v-v)\le p(v)+p(-v) \le 0
	\]
	or $p(v)+p(-v)=0$, proving (b). Using (b) we have, for $r<0$,
	\[
	p(rv)=-p(-rv)=rp(v)
	,\]
	proving the first aspect of linearity. Then we have
	\[
	p(v+w-w)\le p(v+w)+p(w)=p(v+w)+p(-w)
	,\]
	implying
	\[
	p(v)+p(w)\le p(v+w)
	.\] 
	The subadditivity yields the other inequality, completing the proof of linearity.
\end{proof}

We can define a partial order on the sublinear functions by defining $p$ to be less than $q$ if $p$ is less than $q$ pointwise. Zorn's Lemma then yields minimal elements. We will prove eventually that these minimal elements are linear functionals. Before that, however, we need two lemmas:

\begin{Theorem}[Auxiliary Functionals]\label{thm:auxfunc}
	If $p$ is a sublinear functional on a real vector space $V$, then the auxiliary functional $q(v)=\inf \{p(v+tw)-tp(w)|t\ge 0,w\in V\} $ is a sublinear functional such that $q \le p$.
\end{Theorem}
\begin{proof}
	By considering $t=0$ in the infimum, we see that $q\le p$. We only need to show sublinearity. Consider first $r=0$. Then
	\[
	q(rv)=\inf \{p(rv+tw)-tp(w)|t\ge 0,w\in V\} =\inf \{p(tw)-tp(w)|t\ge 0, w\in V\} =0
	.\] 
	For $r>0$, we have
	\begin{align*}
		q(rv)&=\inf \{p(rv+tw)-tp(w)|t \ge 0, w\in V\} \\
		     &=\inf \left\{ rp\left( v+\frac{t}{a}w \right)-tp(w)|t\ge 0, w\in V \right\} \\
		     &=r\inf \left\{p\left(v+\frac ta w\right) -\frac ta p(w)|t\ge 0, w\in V\right\} \\
		     &=rq(v)
	\end{align*}
	For subadditivity, we take the special points $w=\frac{1}{s+t}(sx+ty)$, or $(s+t)w=sx+ty$. Then
	\begin{align*}
		q(x+y)&\le p(x+y+(s+t)w)-(s+t)p(w)\\
		      &\le p(x+sw)-sp(w)+p(y+tw)-tp(w)
	\end{align*}
	which shows that $q(x+y)\le q(x)+q(y)$.
\end{proof}
Now, we move on to the proof of the main result.
\begin{Theorem}
	A sublinear functional $p$ on a real vector space $V$ is linear iff it is minimal.
\end{Theorem}
\begin{proof}
	Suppose we have $q\le p$, with $q$ sublinear and $p$ linear. Since $q$ is sublinear, we have $0=q(v-v)\le q(v)+q(-v)$, which implies $-q(-v)\le q(v)$. Since $q(-v) \le p(-v)=-p(v)$, we have $p(v)\le -q(-v)\le q(v)$, suggesting that $p\le q$. Thus $p=q$.

	Conversely, suppose that $p$ is a minimal sublinear functional. Then we must have $q=p$ where $q$ is the auxiliary sublinear functional defined in Theorem~\ref{thm:auxfunc}. If we let $t=1$ and $w=-v$ in the above definition, we get
	\[
	p(v)\le p(v-v)-p(-v)
,\]
or $p(v)+p(-v)\le 0$, as desired. 
\end{proof}
Finally, we show the boundedness which we require to apply Zorn's Lemma.
\begin{Theorem}
	For every sublinear functional $p$, we have a linear functional $f\le p$. 
\end{Theorem}
\begin{proof}
	We begin, as always, by considering a chain of sublinear functionals, which is also a totally ordered set of sublinear functionals $P$. Suppose that $q(x)$ is unbounded from below for all $q\in P$ and some $x\in V$. Then we have, for all $n$, a $p_n$ such that $p_n(x)\le -n$.

	Then we construct a decreasing sequence of sublinear functionals $q_n$ using $q_n=\min (p_1, \dots, p_n)$. Since $q_n(x)\le -n$, we have
	\[
	0=q_n(x-x)\le q_n(x)+q_n(-x)\le -n +q_n(-x)
	\]
	or $q_n(-x)\ge n$. Then we have, for all $n$, $n\le q_n(x)\le q_1(x)$, a contradiction. Thus we can take the infimum for all $x\in V$. This yields a functional $q^*$. It remains to show that $q^*$ is sublinear. 
	
	Since $q_n(0)$ for all $n$, we have $q^*(0)=0$. By homogenity, $q^*(rv)=\inf \{q_n(r v)|n \in \N\}= r \inf \{q_n(v)|n\in \N\} $. Finally, we have $q^*(u+v) = \inf \{q_n(u+v)|n\in \N\}\le q^*(u)+q^*(v)$.
	\end{proof}
	
	\begin{Theorem}[Dominated Extension]
	Let $X$ be a real vector space, $p$ a sublinear functional on $X$, $M$ a subspace of $X$ and $f:M \to \R$ a linear functional on $X$ such that $f \le p$. Then there is a linear functional $F$ on $X$ that extends $f$ such that $F \le p$.
	\end{Theorem}
	\begin{proof}
	The overarching idea of this proof is as follows: We seek a sublinear functional $q$ such that $q\le p$ on $X$, and $q \le f$ on $M$. By the previous theorem, we will then get a linear functional $F \le q \le p$ on $X$ and $F \le f$ on $M$. Since $f$ is minimal on $M$, we then have $f \le F$, or $f=F$ on $M$.
	
	We choose as our candidate
	\[
	q(x)=\inf \{p(x+m)+f(m)|m \in M \} 
	.\] 
	It is clear that $q\le f$ on $M$. We first show that $q$ is real valued. We do this by showing two different estimates:
	
	First, we have $f(-m)\le p(-m)$. Thus, for all $x\in X$, we have $-p(-x)+f(-m)\le -p(-x)+p(m)$, or
	\[
	-p(-x)\le p(m)-p(-x)-f(-m)
	.\] 
	Then, we estimate $p(-m)\le p(x-m) + p(-x)$ and thus
	\[p(-m)-p(-x)\le p(x-m).\]
	Combining the two equalities, we get
	\[
	-p(-x)\le p(x-m)+f(m)
	\]
	which shows that $q$ is real valued. Now we show sublinearity.
	\begin{enumerate}
		\item Since $f(-m) \le p(-m)$, we have $p(-m)+f(m)\ge 0$. This shows that $q(0)\ge 0$. Conversely, we have $p(0)+f(0)=0$, which shows that $q(0)\le 0$. 
		\item For $a\in \R_0^+$, we have $q(ax)=\inf \{p(ax-m)+f(ax)\} =\inf a\{p(x - m / a)+a f(m / a)\} = aq(x)$.
		\item For sublinearity, we choose $x,y\in X$ and $r>0$. There exists $m,n\in M$ such that
			\[
			q(x)>p(x-m)+f(m)+\frac{r}{2},\qquad q(y)>p(y-n)+f(n)+\frac{r}{2}
			.\] 
			Then
			\[
			q(x)+q(y)\ge p(x+y-(m+n)) - f(m+n) - r\ge q(x+y)-r
			.\qedhere\] 
	\end{enumerate}
	\end{proof}
	\begin{Theorem}[Hahn-Banach (Normed)]\label{thm:normedhahnbanach}
		Let $V$ be a normed space, $W\subseteq V$ a subspace, and $f$ a continuous linear functional on $W$. Then there is a continuous extension of $f$ to $V$.
\end{Theorem}
\begin{proof}
	We consider $g: V \to \R,~v\mapsto \|f\| \|v\|$. This map is clearly sublinear and $f \le g$. Then, by the Dominated Extension Theorem, we get an extension to all of $V$. Because this map is bounded, it is continuous.
\end{proof}
\begin{Corollary}\label{cor:hahnbanachsubspace}
	Let $ V$ be a normed space and $v\in V$. Then there exists a linear functional $\varphi \in V'$ such that $\varphi(v)=\|v\|$.
\end{Corollary}
\begin{proof}
	We let $W=\text{span}\{v\} $ and $\varphi(x)=k$ if $x=kv$ in Theorem \ref{thm:normedhahnbanach}
\end{proof}
\subsection{Geometric Hahn-Banach}
\begin{Definition}
	Let $V$ be a normed space. A subset $A$ of $V$ is called
	\begin{parts}
	\item \emph{Absorbing}, if for every $v\in V$ there is $\lambda>0$ with $v\in \lambda A$.
	\item \emph{Balanced}, if for all $|z|\le 1$ we have $zA\subseteq A$.
	\item \emph{Convex}, if for all $v,w\in A$ and $\lambda\in [0,1]$ we have $\lambda v+(1-\lambda)w\in A$.
	\item \emph{Absolutely convex}, if it is balanced and convex.
	\end{parts}
\end{Definition}
\begin{Theorem}\label{thm:weakseminorms}
	Let $V$ be a vector space over $\mathbb{K}$.
	\begin{parts}
	\item If $p:V \to \R_0^+$ is a seminorm then
		\[
			B_{p,1}(0)=\{v\in V|p(v)<1\} 
		\]
		and
		\[
			B_{p,1}(0)^\text{cl}=\{v\in V|p(v)\le 1\} 
		\]
		are absorbing and absolutely convex.
	\item If $C\subseteq V$ is convex, balanced and absorbing then
		\[
		p_c(V)=\inf \{\lambda| \lambda> 0,v\in \lambda C\} 
	\]
	is a seminorm.
\item For $C$ absolutely convex and absorbing
	\[
		B_{p_c, 1}(0)\subseteq C \subseteq B_{p_c, 1}(0)^\text{cl}
	.\] 
	\end{parts}
\end{Theorem}
\begin{proof}
	\begin{parts}
		\item It is clear from the definition of a seminorm that both of these are absolutely convex.
		
		If $v\in V$ and $p(v)=\alpha$, then $p(v/2\alpha)=1/2$, which tells us that $v/2\alpha$ is an element of the ball, and thus the ball is absorbing.
		\item First, we show absolute homogenity. We note that $v\in \lambda C$ if and only if $|\alpha| v \in |\alpha|\lambda C$. Since $C$ is balanced, so is $|\alpha|\lambda C$, and thus this happens iff $\alpha v\in |\alpha|\lambda C$. Since the infimum is absolutely homogeneous, this shows that the $p_c$ is too.
		
		Suppose $v\in \lambda_v C$ and $u\in \lambda_u C$. If we prove that $u+v\in (\lambda_u+\lambda_v)C$, we will be done. In fact, we know more - we know that $aC+bC=(a+b)C$. Let us prove this.
		
		Suppose $v\in aC+bC$. Then $v=au+bw$ for $u,w\in C$. Since $C$ is convex, we have
		\[\frac{v}{a+b}=\frac{a}{a+b}u +\frac{b}{a+b}w\in C\]
		suggesting that $v\in (a+b)C$.
		\item Clearly, for all $v\in C$, we have $p(v)\le 1$. 
		
		If $p(v)<1$, then $v\in \lambda C$ for some $\lambda<1$. Since $C$ is balanced, this shows that $v\in C$.\qedhere
	\end{parts}
\end{proof}
\begin{Definition}[Minkowski Functional]
	Let $C\subseteq V$ be an absorbing subset in a vector space $V$ over a $\mathbb{K}$. Then $p_c:V\to \R_0^+$ defined by
	\[
	p_c(v)=\inf \{\lambda>0|v\in \lambda C\} 
\]
is called the Minkowski functional of $C$.
\end{Definition}
(b) of the previous theorem shows that this is a seminorm if $C$ is absolutely convex too.
\begin{Theorem}[Separation I]\label{thm:sep1}
	Let $V$ be a normed space with two nonempty disjoint convex subsets $A,B\subseteq V$.
	\begin{parts}
	\item Suppose $A$ is open. Then there exists $\Phi\in V'$ and $\alpha\in \R$ such that
		\[
		\Re(\Phi(v))<\alpha\le \Re(\Phi(u))
	\]
	for $v\in A< u\in B$
\item Suppose both $A$ and $B$ are open. Then there exists $\Phi\in V'$ and $\alpha\in \R$ with
	\[
	\Re(\Phi(v))<\alpha<\Re(\Phi(v))
\]
for $v\in A, u\in B$.
	\end{parts}
\end{Theorem}
\begin{proof}
	Fix $a_0\in A,~b_0\in B$. We define $x_0=b_0-a_0$, and let $C=A-B+x_0$. Then $C$ is a convex neighbourhood of $0$. Let $p$ be its Minkowski functional. Since $C$ is a neighbourhood of $0$, it is absorbing. Thus, its Minkowski functional is a sublinear functional on $X$, with $p(x_0)\ge 1$.

	Then, by Corollary \ref{cor:hahnbanachsubspace}, we define a linear functional on the subspace spanned by $x_0$ such that $f(x_0)=1$. Since this is bounded by $p$, $ f$ extends to a linear functional $\Lambda$ on $X$. Since $\Lambda(C)\le 1$, we have $\Lambda(-C)\ge -1$ and $\Lambda$ is bounded on a neighbourhood $C\cap -C$ of $0$ and is hence continuous. 
Then, we let $a\in A,b\in B$, and note that $a-b+x_0\in C$, thus
\[
\Lambda(a)-\Lambda(b)+1 = \Lambda(a-b+x_0)<1
,\]
or $\Lambda(a) < \Lambda(b)$. Thus the images of $A$ and $B$ under $\Lambda$ are convex subsets of the real line, and the image of $A$ is an open subset, since linear functionals are always open maps. However, the only convex open subsets of the real line are the intervals, and choosing the right endpoint of $\Lambda(A)$ yields (a). (b) follows almost identically.
\end{proof}
The picture for this theorem is as follows: A linear functional $\Phi$ defines a hyperplane for each fixed value of $\alpha$, then splitting the space into two parts, one where the functional is less than, and one where the functional is greater than $\alpha$. In $\R^2$, the picture looks as follows:
\begin{center}
	\begin{tikzpicture}[scale=1.3]
		\draw[thick] (0,0) circle (1);
		\draw[thick] (3,0) circle (1);
		\draw[thick, orange] (1.3,-1.5) -- (1.9,1.5) node[anchor=south] {$\Phi(v)=\alpha$};
		\draw[thick, orange] (0,1) node[anchor=south] {$\Phi(v)<\alpha$};
		\draw[thick, orange] (3,1) node[anchor=south] {$\Phi(v)>\alpha$};
	\end{tikzpicture}
\end{center}
\begin{Theorem}[Separation II]\label{thm:sep2}
	Let $V$ be a normed vector space, $K\subseteq V$ compact, convex, nonempty, $C\subseteq V$ closed, convex, nonempty, with $K\cap C = \varnothing$. Then there exists $\Phi\in V'$ and $\alpha,\beta\in \R$ with $\Re \Phi(v)<\alpha<\beta<\Re \Phi(u)$ for all $v\in K$ and $u\in C$.
\end{Theorem}
\begin{proof}
	There is a convex neighbourhood $V$ of $0$ in $ V$ such that $K+V\cap C=\varnothing$ (Corollary \ref{cor:compacttranslates}). Then, we apply Theorem \ref{thm:sep1} to $K+V$ and $C$ to get a linear functional that satisfies all the required properties, since $K$ is a compact subset of $K+V$. 
	
	Note that we used that $V$ is normed in the first line, as Corollary \ref{cor:compacttranslates} only yields a not necessarily convex neighbourhood. Local convexity would also have sufficed.
\end{proof}
\begin{Theorem}[Separation III] \label{thm:sep3}
	Let $V$ be a normed space, $K\subseteq V$ compact convex, $C\subseteq V$ closed convex nonempty, balanced, such that $K\cap C=\varnothing$. Then there exists $\Phi\in V'$ such that $\sup_{u\in C}|\Phi(u)| < \inf_{v\in K}|\Phi(v)|$.
\end{Theorem}
\begin{proof}
	Follows directly from Theorem \ref{thm:sep3}.
\end{proof}
\begin{Corollary}
	Let $C\subseteq V$ be a closed balanced convex subset and $v\in V \setminus C$. Then there exists $\Phi\in V'$ with $\Phi(v)>1$, $\Phi(u)\le 1$ for all $u\in C$.
\end{Corollary}
\begin{proof}
	Apply Theorem \ref{thm:sep3} with $K=\{v\} $ and rescale as necessary.
\end{proof}
\section{Duality}
\subsection{The Weak Topology}
It is often the case that we want to work with components of vectors. However, due to the difficulty of picking a basis, we cannot define the components the same way we do in finite dimensional linear algebra. Thus, we define the components to be the outputs of linear functionals applied to vectors. This notion leads us to the weak topology.
\begin{Definition}
	Let $V$ be normed.
	\begin{parts}
		\item For $\varphi\in V'$ we define the seminorm $p_\varphi:V \to \R_0^+$ by $p_\varphi(v)=|\varphi(v)|$ and one calls $B_{p_\varphi, r}(v) =\{w\in V|p_\varphi(v-w)<r\} $ the open ball.
		\item We define the weak topology to be the topology on $V$ generated by all open balls $B_{p_{\varphi}, r}(v)$.
	\end{parts}
\end{Definition}
Equivalently, we could also have defined the weak topology as the weakest topology such that all the seminorms $p_{\varphi}$ are continuous. Note that the weak topology is locally convex as the subbasis elements are convex due to Theorem \ref{thm:weakseminorms}.

\begin{Theorem}
	Let $V$ be a normed space.
	\begin{parts}
		\item The weak topology turns $V$ into a topological vector space.
		\item The weak topology is coarser than the norm topology.
		\item $\varphi\in V^*$ is weakly continuous iff $\varphi$ is norm continuous.
		\item The weak topology is Hausdorff
		\item $p_\varphi$ for $\varphi\in V'$ is weakly continuous.
	\end{parts}
\end{Theorem}
\begin{proof}
	\begin{parts}
		\item We only check the continuity condition for a subbasis:
		\[
		p_\varphi(u+u'-(v+v'))\le p_\varphi(u-v)+p_\varphi(u'-v')< r
		\]
		which implies that $u+u'\subseteq B_{p_{\varphi}, r}(v+v')$. Thus
		\[
		B_{p_{\varphi, \frac{r}{2}}}(v)\times B_{p_{\varphi, \frac{r}{2}}}(v')\subseteq +^{-1}B_{p_{\varphi, r}}(v+v')
		.\] 
		Thus, $+$ is continuous at $(v, v')$. Continuity of multiplication follows by the homogenity of seminorms.
		\item If $p_\varphi(v-v')<\epsilon$, we also have $p_\varphi(v-v')=|\varphi(v-v')| \le \| \varphi\| \|v-v'\|$, thus showing that we can choose $\delta$ such that $B_\delta(v)\subseteq B_{p_{\varphi, \epsilon}}(v)$. This means that every weakly open set is also norm open.
		\item If  $\varphi$ is weakly continuous it is norm continuous because of (b). Conversely, we see that $\varphi^{-1}(B_r(0))=B_{p_{\varphi,r}}(0)$, which is an element of the subbasis. Thus, $\varphi$ is weakly continuous.
		\item Suppose $v\neq 0$. Then, we define a continuous linear functional $\varphi$ such that $r=\varphi(v)>0$ by Hahn-Banach. Then $B_{p_{\varphi, r / 2}}(0)\cap B){p_{\varphi, r / 2}}(v )=\varnothing$.
		\item Follows by definition.\qedhere
	\end{parts}
\end{proof}
\begin{Example}[Weak, Weak-* and Strong Topology Are Different]
	Let $V=c_0$, then $V'=\ell^1$ and $V^{\prime\prime}=\ell^\infty$. If we let $e_1, e_2, \dots$ be the standard basis of $V, V'$ or $V^{\prime\prime}$. Then
	\begin{parts}
		\item The sequence $e_1, \dots$ converges weakly in $V$ to $0$, but does not converge strongly.
		\item The sequence $e_1, \dots$ converges in the weak* sense in $V'$ to 0 but does not converge either weakly or strongly.
		\item The sequence $\sum_{m=n}^\infty e_m$ for $n\in \N$ converges in the weak* topology of $V^{\prime\prime}$ to 0, but does not converge either weakly or strongly.
	\end{parts}
\end{Example}
\begin{Theorem}
	Let $V$ be a topological vector space.
	\begin{parts}
		\item A net $(v_i)_{i\in I}$ in $V$ is weakly convergent to $v\in V$ if and only if for every $\varphi\in V'$ one has $\lim_{i \in I} \varphi(v_i)=\varphi(v)$.
		\item A net $(v_i)_{i\in I}$ in $V$ is a weak Cauchy net if and only if for every $\varphi \in V'$ the net $(\varphi(v_i))_{i\in I}$ is a Cauchy net in $\mathbb{K}$.
	\end{parts}
\end{Theorem}
\begin{proof}
	\begin{parts}
		\item Since $\varphi$ is (weakly) continuous, we have the desired equality. 
		
		Conversely, assume that the equality is satisfied. What we need to show is that the net $v_i$ is eventually in every neighbourhood of $v$. Since $V$ is locally convex, it suffices to consider absolutely convex neighbourhoods $K$. Consider the Minkowski functional of $K$, $p_K$. Since $p_K$ also generates the weak topology, we can find $\alpha\in I$ such that $\beta\succeq \alpha \implies p_K(v_i-v)<1$, or $v_i\in K$.
		\item Follows analogously to (a).\qedhere
	\end{parts}
\end{proof}
\begin{Theorem}
	Let $V$ be a normed space and let $C\subseteq V$ be convex. Then the weak closure of $C$ coincides with the norm closure.
\end{Theorem}
\begin{proof}
	Since the weak topology is weaker, $C^\text{cl}\subseteq C^\text{wcl}$.
	
	Conversely, we choose $v_0\in V$, $v_0\not\in C^\text{cl}$. Then Theorem \ref{thm:sep2} yields $\gamma\in \R$ and $\Lambda\in V'$ such that
	\[\Re \Lambda x_0<\gamma < \Re \Lambda x.\]
	Thus, the set $\{x|\Re \Lambda x< \gamma\}$ is a weak neighbourhood of $x_0$ that does not intersect $C$, showing that $x\not\in C^\text{wcl}$. 
\end{proof}
\begin{Corollary}
	Let $U\subseteq V$ be a subspace of a normed space. Then $U^\text{cl}=U^\text{wcl}$.
\end{Corollary}
\begin{proof}
	Subspaces are automatically convex.
\end{proof}
\begin{Theorem}
	Let $V$ be a normed space. Then the canonical map $i:v\to V^{\prime\prime}$ is norm preserving and hence injective.
\end{Theorem}
\begin{proof}
	We define this injection by
	\[
	i(v)\varphi = \varphi(v)
	.\] 
	We have $i\in V^{\prime\prime}$ and $\|i(v)\|\le \|v\|$ for a given $v\in V$. This implies that there is $\varphi\in V'$ with $\|\varphi\|=1$ and $\varphi(v)=\|v\|$. Thus,
\[
|i(v)\varphi|=|\varphi(v)=\|v\|=\|v\|\|\varphi\|
.\] 
Thus, $\|i(v)\|\ge \|v\|$. Together, we have $\|i(v)\|\ge \|v\|$.
\end{proof}
\begin{Theorem}[Completion of normed space]
	Every normed space $V$ can be completed to a Banach space. More precisely $i(v)^\text{cl}\subseteq V^{\prime\prime}$ is a completion.
\end{Theorem}
\begin{proof}
	Note that the dual space of \emph{any} TVS is always complete. As a closed subspace of a complete space, we have a complete space.
\end{proof}
The canonical map $i$ allows us to define a weak topology on $V'$ generated by the functionals $i(V)\in V^{\prime\prime}$. We call this the weak *-topology. Convergence in the weak *-topology is defined by the same conditions as in the weak topology. In particular, a net $(v_i)_{i\in I}\subseteq V'$ converges to $v\in V'$ if and only if $v_i(x)\to v(x)$ for all $x\in V$ - that is, the linear functionals converge pointwise.
\begin{Theorem}
	Let $V,W$ be normed spaces with $A:V \to W$ continuous and linear. Then
	\[
		\|A\|= \sup_{\varphi\neq 0, w \neq 0}\frac{|\varphi(A v)|}{\|\varphi\|_{W'}\|v\|_V}=\sup_{\|\varphi\|=\|v\|=1} |\varphi(A v)|=\|A'\|
	.\] 
\end{Theorem}
These also allow us to define multiple topologies on the space of bounded linear operators $L(V,W)$:
\begin{Definition}[Strong Operator Topology]
	The strong operator is the topology generated by the seminorms $T\mapsto \| Tx\|$ for $x\in V$.
\end{Definition}
This corresponds to convergence in the following sense:
\begin{Proposition}
	Convergence of a sequence $T_n$ in the strong operator norm is equivalent to convergence of $T_nx\to Tx$ for all $x\in V$.
\end{Proposition}
We also have the weak operator topology:
\begin{Definition}[Weak Operator Topology]
	The weak topology is generated by the seminorms $T\mapsto \varphi(Tv)$ for all $v\in V$ and $\varphi\in W'$.
\end{Definition}
Convergence in this case is equivalent to the following notion
\begin{Proposition}
	Convergence in the weak operator topology is equivalent to convergence $\varphi(T_n v)\to \varphi(Tv)$ for all $\varphi\in W'$ and $v\in V$.
	
	In other words, the net $(T_i v)$ converges weakly to $Tv$ for all $v\in V$.
\end{Proposition}
We note that the weak topology is weaker than the strong topology, which is in turn weaker than the norm topology.
\subsection{Polars \& Banach-Alaoglu Theorems}
\begin{Definition}
	Let $V$ be a topological vector space with topological dual $V'$.
	\begin{parts}
	\item The polar $A^\polar$ of a subset $A\subseteq V$ is defined by
		\[
			A^\polar=\{\varphi\in V'| |\varphi(v)|\le 1\text{ for all }v\in A\} 
		.\] 
	\item The polar $B_\polar$ of a subset $B\subseteq V'$ 
		\[
			B_\polar = \{v\in V| |\varphi(v)|\le 1\text{ for all }\varphi\in B\} 
	.\] 
	\end{parts}
\end{Definition}
The polar $A^\polar$ of a set $A\subseteq V$ is the set of linear functionals which are small on $A$. Note that the 1 in the definition comes without loss of generality, as
\[\varphi(v) < r \iff \frac{\varphi}{r}(v)<1.\]
\begin{Theorem}\label{thm:absconvexclosed}
	Let $V$ be a topological vector space and $B\subseteq V'$. Then $B_\polar\subseteq V$ is absolutely convex and weakly closed.
\end{Theorem}
\begin{proof}
	For $z\in \mathbb{K}$ with $|z|\le 1$ and $v\in B_X$, then for $\varphi\in B$ we have $|\varphi(z v)| = |z| |\varphi(v)| \le 1$, which shows that $B_\polar$ is balanced.

	Then we choose $\lambda\in [0,1]$ and $v,w\in B_\polar$. Then for $\varphi\in B$ we have
	\[
	\varphi(\lambda v + (1-\lambda) w)\le \lambda |\varphi(v) + (1-\lambda)| \varphi(w)| \le 1
	.\] 
	This implies that $B_\polar$ is convex.

	To show that it is closed, we have
	\begin{align*}
		B_\polar&= \left\{ v\in V| |\varphi(v)| \le 1\text{ for all } \varphi\in B \right\} \\
		   &= \left\{ v\in V | p_{\varphi}(v) \le 1\text{ for all }\varphi\in B \right\}  \\
		   &= \bigcap_{\varphi\in B} B_{p_{\varphi,1}}(0)^\text{cl} \\
		   &= \bigcap_{\varphi\in  B} p_{\varphi}^{-1}([0,1])
	\end{align*}
which is an intersection of closed sets and hence closed.
\end{proof}
We also have the following facts
\begin{Theorem}
	Let $V$ be a topological vector space.
	\begin{parts}
		\item If $A\subseteq B \subseteq V$, then $A^\polar\supseteq B^\polar$.
		\item For $a\neq 0$, we have $(aA)^\polar = a^{-1}A^\polar =|a|^{-1}A^\polar$.
		\item $A\subseteq A^{\polar\polar}$ and $A^\polar=A^{\polar\polar\polar}$.
	\end{parts}
\end{Theorem}
\begin{proof}
\begin{parts}
\item If $|\varphi(v)| < 1$ for all $v\in B$, then it holds true for all $v\in A$.
\item We have $\varphi(av) = a\varphi(v)$, as well as $|\varphi(a v)| = |a| |\varphi(v)|$.
\item We have $A\subseteq A^{\polar\polar}$ by definition. Thus, $A^\polar\subseteq (A^{\polar})^{\polar\polar}$. However, by (a), $A\subseteq A^{\polar\polar}$ implies that $A^{\polar}\supseteq A^{\polar\polar\polar}$.\qedhere
\end{parts}
\end{proof}
Next, we will consider what happens to polar sets of hulls. However, before we continue, we first need to define what hulls are.
\begin{Definition}
	The convex hull $C_c$ of a subset $C\subseteq V$ is the intersection of all convex sets containing $C$. 
\end{Definition}
The most useful characterisation of convex hulls is as follows:
\begin{Lemma}
	The convex hull $C_c$ of a set $C$ is the set consisting of all convex combinations of vectors of $C$.
\end{Lemma}
\begin{proof}
	Let $K$ be the set of all convex combinations of elements of $C$. Since $K$ is convex, we have $C_c\subseteq K$. Conversely, all linear combinations of elements of $C$ must be in $C_c$, and thus $K\subseteq C_c$.
\end{proof}
We also have balanced hulls:
\begin{Definition}
	The balanced hull $C_b$ of a subset $C\subseteq V$ is the intersection of all balanced sets containing $C$. 
\end{Definition}
Again, this is characterised by the following Lemma:
\begin{Lemma}
	The balanced hull $C_b$ of a subset $C\subseteq V$ is the union of all sets $zC$, with $|z|\le 1$. 
\end{Lemma}
\begin{proof}
	We define
	\[K:=\bigcup_{|z|\le 1} z C.\]
	Clearly, $K$ is balanced, and thus $C_b\subseteq K$. Conversely, we must have $K\subseteq C_b$. 
\end{proof}
We also have the absolutely convex hull of a set
\begin{Definition}
	The absolutely convex hull $A_{bc}$ of a subset $A\subseteq V$ is defined by $(A_b)_c$. 
\end{Definition}
We note that this is convex by definition, and we can easily verify that it is also balanced. It is also important to note that this is not the same as $(A_c)_b$, as $(A_c)_b$ may not be convex.
\begin{Example}
	Let $A$ be the set in $\R^2$ consisting of $(0,0),~(1,0)$ and $(1,1)$. Its convex hull is the triangle consisting of these 3 points, and its balanced hull is its convex hull plus its mirror image, which is not convex.
		\begin{figure}[H]
			\begin{center}
		\begin{subfigure}{0.3\textwidth}
			\caption{$(A_c)_b$}
			\begin{tikzpicture}[scale=1.5]
				\filldraw[thick, pattern = north west lines] (0,0) -- (1,1) -- (1,0) -- cycle;
				\filldraw[thick, pattern = north west lines] (0,0) -- (-1,-1) -- (-1,0) -- cycle;
				\draw[ultra thick, -stealth] (-1.2,0) -- (1.2,0) node[anchor=west] {$x$};
				\draw[ultra thick, -stealth] (0,-1.2) -- (0,1.2) node[anchor=south] {$y$};
			\end{tikzpicture}
		\end{subfigure}
			\begin{subfigure}{0.3\textwidth}
		\caption{$(A_b)_c$}
		\begin{tikzpicture}[scale=1.5]
			\filldraw[thick, pattern = north west lines] (-1,0) -- (1,1) -- (1,0) -- (-1,-1) -- cycle;
			\draw[ultra thick, -stealth] (-1.2,0) -- (1.2,0) node[anchor=west] {$x$};
			\draw[ultra thick, -stealth] (0,-1.2) -- (0,1.2) node[anchor=south] {$y$};
		\end{tikzpicture}
	\end{subfigure}
	\end{center}
	\end{figure} 
\end{Example}
Now we are ready to discuss their polar sets:
\begin{Theorem}[Polars of Hulls]\label{thm:hullpolars}
	Let $V$ be a topological vector space, $A\subseteq V$.
	\begin{parts}
		\item $A^\polar =(A_b)^\polar$.
		\item $A^\polar =(A_c)^\polar$.
		\item $A^\polar = (A^\text{wcl})^\polar$.
		\item $A^\polar = ((A_{bc})^\text{wcl})^\polar$.
	\end{parts}
\end{Theorem}
\begin{proof}
	For all of these, the reverse inclusion follows due to $A$ being a subset of the other set. 
	\begin{parts}
		\item Now suppose $|\varphi(v)|\le 1$ for all $v\in A$. Then consider $u\in A_b$. We have $u= zv$ for some $v\in A$, and thus $\varphi(u)=\varphi(zv)=z\varphi(v)$.
		\item Consider $u\in A_c$, meaning that $u=\sum_{k=1}^n \alpha_k v_k$ for $\sum_{k=1}^n \alpha_k = 1$, $v_k\in A$ for all $k$. We have
		\[\varphi(u) = \sum_{k=1}^n \alpha_k \varphi(v_k) \le \sum_{k=1}^n \alpha_k = 1.\]
		\item Suppose $|\varphi(v)| \le 1$ for all $v\in A$. Then, if $w\in A^\text{wcl}$, it means that there is a net $(v_i)_{i\in I}\subseteq A$ such that $v_i\to w$. In the weak topology, this means that $\varphi(v_i)\to \varphi(w)\le 1$.  
		\item We note that $A\subseteq (A_{bc})^\text{wcl}$. Since $A^{\polar\polar}$ is absolutely convex and weakly closed by Theorem \ref{thm:absconvexclosed}, we have $(A_{bc})^\text{wcl}\subseteq A^{\polar\polar}$. This implies that
		\[A^\polar \supseteq (A_{bc})^\text{wcl} \supseteq A^{\polar\polar\polar}=A^\polar.\qedhere\]
	\end{parts}
\end{proof}
\begin{Theorem}[Bipolar Theorem]
	Let $A$ be a subset of a topological vector space $V$. Then $A^{\polar\polar} = (A_{bc})^\text{wcl}$.
\end{Theorem}
\begin{proof}
	As in \ref{thm:hullpolars} we have $A\subseteq (A_{bc})^\text{wcl}\subseteq A^{\polar\polar}$. Choose $w\not\in (A_{bc})^\text{wcl}$. Then, by Theorem \ref{thm:sep3}, there is a weakly continuous linear functional $\Phi$ such that $\sup_{v\in (A_{bc})^\text{wcl}}|\Phi(v)|<\Phi(w)$. Since $(A_{bc})^\text{wcl}$ is balanced, we have $0=\Phi(0)< a$. Hence, we may rescale the functional to get a linear functional $\Psi$ with $\sup_{v\in (A_{bc})^\text{wcl}} |\Psi(v)| = 1$. This implies that $\Psi\in A^\polar$. Since $\Psi(w)>1$, we have $w\not\in A^{\polar\polar}$, completing the proof.
\end{proof}
\begin{Theorem}[Banach-Alaoglu]
	If $U$ is a balanced neighbourhood of $0$ in the topological vector space $V$ then $U^\polar$ is weak *-compact. 
\end{Theorem}
\begin{proof}
	Since neighbourhoods of $0$ are absorbing, we choose $\gamma(v)$ for each $v\in V$ such that $v\in \gamma(v)U$. Then we define a set $P$ by $P=\prod_{v\in V}K_{\gamma(v)}(0)^\text{cl}$. Since the disks are compact, $P$ is compact by Tychonoff's Theorem. $P$ consists of all functions $f:V\to \mathbb{K}$ such that $|f(x)|\le\gamma(x)$. Thus, we have $U^\polar\subseteq V'\cap P$.
	
	We now have two topologies on $U^\polar$, induced by $V'$ and $P$ respectively. We show that these topologies coincide, and $U^\polar$ is closed in the topology induced by $P$. Since $P$ is compact, this will imply that $U^\polar$ is compact. 
	
	Fix $\Lambda_0\in A^\polar$, and choose $v_i\in V$ for $i=1,\dots, n$ as well as $\delta>0$
	\begin{align*}
		W_1&= \{\Lambda\in V'| |\Lambda v_i-\Lambda_0 v_i|<\delta, i=1,\dots, n\}\\
		W_2&= \{f\in P| |f v_i - \Lambda_0 v_i|<\delta, i = 1, \dots, n\}
	\end{align*}
The $W$s form a local basis for the topology. Since $A^\polar\cap W_1=A^\polar\cap W_2$, the topologies coincide. 

Now suppose that we have $f_0$ in the $P$-closure of $A^\polar$. Then we choose scalars $\alpha,\beta$, and $u,v\in V$. The set of all $f$ such that $|f-f_0|<\epsilon$ at $x,y$ and $\alpha x + \beta y$ is a $P$-neighbourhood of $f_0$. Thus, $A^\polar$ contains such an $f$. Since $f$ is linear, we have
\begin{align*}
	&f_0(\alpha x + \beta y)-\alpha f_0(x) - \beta f_0(y)\\
	=&(f_0-f)(\alpha x + \beta y)+ \alpha(f - f_0)(x) + \beta(f - f_0)(y).
\end{align*}
Approximating each of these by $\epsilon$, we have'
\[|f_0(\alpha x + \beta y)-\alpha f_0(x) - \beta f_0(y)|= \epsilon (1+|\alpha|+|\beta|)\]
showing that $f_0$ is linear. Similarly, we conclude that $|f_0(v)|\le 1$ for all $v\in A$. Thus, we have $f_0\in A^\polar$, completing the proof.
\end{proof}
Banach-Alaoglu is commonly cited as the following theorem
\begin{Corollary}
	The closed unit ball in the dual space of a normed vector space is weak-* compact.
\end{Corollary}
Note that this does not imply that the dual space is locally weak-* compact, as the closed unit ball has empty interior in the weak-* topology!

This corollary has a simpler proof by Tao:
\begin{proof}
	The closed unit ball $B'$ maps the closed unit ball into the closed disk with radius 1 $D$. Thus, it can be identified with a subset of $D^B$, the functions from $D$ to $B$. 
	
	First, we show that the weak-* topology is the product topology on $D^B$. \textcolor{red}{TODO}
\end{proof}

The importance of Banach-Alaoglu comes from sequential compactness, which we investigate in the following theorems:
\begin{Definition}
	A space $X$ is called \emph{sequentially compact} if every sequence has a convergent subsequence.
\end{Definition}
In a metric space, for example, a normed space, sequential compactness is equivalent to compactness, which we state without proof:
\begin{Theorem}
	Let $X$ be a metric space. $X$ is sequentially compact if and only if $X$ is compact. 
\end{Theorem}
However, the unit ball in the dual space is not, in general, metrizable. We require an additional condition, that the original vector space is separable:
\begin{Theorem}[Sequential Compactness of Unit Ball]
	Let $V$ be a separable Banach space. Then $B_1(0)^\text{cl}\subseteq V'$ is sequentially compact in the weak* topology. 
\end{Theorem}
\begin{proof}
	Given a sequence $u_n\in V'$, such that $\|u_n\|\le 1$ and a countable dense set $\{v_k\} \subseteq V$, we can choose, by the diagonal argument, a subsequence $\ell_n$ such that $\lim_{n\to\infty} \ell_n(v_k)$ exists for all $k$.

Since the $v_n$s are dense, we actually have convergence for all $v\in V$:
\[
|\ell_n(v) - \ell_m(v)| \le |\ell_n(v_k) - \ell_m(v_k)| + |\ell_n(v-v_k) - \ell_m(v - v_k)| \le |\ell_n(v_k) - \ell_m(v_k)| + 2M \|v-v_k\|
.\] 
We can also show that it is linear. Since it is a pointwise limit, we have
\[
\ell(au+bv) = \lim_{n \to \infty} \ell_n(au+bv) = \lim_{n \to \infty} [a\ell_n(u)+b\ell_n(v)] = a\ell(u)+b\ell(v)
.\] 
Now, finally, it is bounded, as
\[
|\ell(u-v)| = |\lim_{n \to \infty} \ell_n(u-v)| = \lim_{n \to \infty} |\ell_n(u-v)| \le \lim_{n \to \infty} c_n\|u-v\|\le \|u-v\|
\]
since $c_n\le 1$ by hypothesis. 
\end{proof}
Another method would be to show that it is first countable. Then, the result would follow using the following theorem:
\begin{Theorem}
	A first countable compact space $X$ is sequentially compact.
\end{Theorem}
\begin{proof}
	Suppose not. Then we can find a sequence $(x_n)_n \subseteq X$ such that it has no convergent subsequence. 

	First, we note that this means the set $\{x_n\} $ has no limit points. Then, for each $y\in X$ we choose an open set $U_y$ that only contains finitely many points $x_n$. By hypothesis, we have a finite subcover $U_{y_1}, \dots, U_{y_n}$. 

Since they cover the space, we cannot have all of them only contain finitely many points of $x_n$. This is a contradiction. 
\end{proof}
\subsection{Separability \& Reflexivity}
\begin{Definition}
	The closed linear span of a subset of $V$ is the smallest closed linear subspace containing that subset.
\end{Definition}
\begin{Lemma}
	The closed linear span of a set $\{v_n\} $ is the closure of the linear span of $v_n$, i.e. the set of finite linear combinations of $v_n$.
\end{Lemma}
\begin{proof}
	We know that the closure of a linear space is also a linear space; this shows that the closed linear span is a subset of the closure of the linear span.
	
	Conversely, the closure of the linear span must also be contained in the closed linear span.
\end{proof}
\begin{Theorem}[Spanning Criterion]\label{thm:spanningcriterion}
	A point $v$ belongs to the closed linear span $Y$ of a subset $\{y_n\} $ if and only if every continuous linear functional that vanishes on $\{y_n\} $ vanishes at $v$ --- that is,
	\[
	\ell(y_j)=0~\forall y_j\implies \ell(v)=0
	.\] 
\end{Theorem}
\begin{proof}
	One implication is obvious: Since $\ell$ is linear, it vanishes at finite linear combinations of the $y_n$s. Since it is continuous, it vanishes on their closure.  
	
	Conversely, suppose that $v$ does not belong to the closed linear span of $\{y_n\}$. Then 
	\[\inf_{y\in Y}\|v - y\| = d > 0.\]
	Then, define the subspace $V$ to consists of all points of the form $y+av,~y\in Y$, and define the linear functional $\ell_0$ on $Z$ by $\ell_0(y + av) = a$. Since we have
	\[\|y + av\| \ge d |a|,\]
	we can conclude that $\ell_0$ is bounded by $d^{-1}$. Thus, we can extend this using the Hahn-Banach theorem to the entire Banach space. By definition, the extension vanishes on all of $Y$ but has the value $1$ at $z$.
\end{proof}
\begin{Theorem}
	Let $V$ be a normed space with separable dual $V'$ in the norm topology. Then $V$ is separable. 
\end{Theorem}
\begin{proof}
	We choose a countable dense subset $\ell_n$ of $V'$. By definition of the norm, we choose $v_n$ such that
	\[
	\|v_n\|=1,~ \ell_n(v_n)>\frac{1}{2}\|\ell_n\|
	.\] 
	We claim that the closed linear span of $v_n$ is $V$. By \ref{thm:spanningcriterion}, this means that we must show that every continuous linear functional that vanishes on $v_n$ vanishes everywhere. Suppose otherwise. Suppose that there exists $\ell$ with $\ell(v_n)=0$ for all $v_n$ and $\| \ell\| = 1$. 
	
	Since the $\ell_n$ are dense, we can find $\ell_n$ with $\| \ell - \ell_n\| > \frac 13$. Since $\|\ell\|=1$, this means that $\ell_n > \frac 23$. However, since $\ell(v_n)=0$, we have
	\[\frac 13 > |(\ell - \ell_n)(v_n)| = |\ell_n(v_n)|> \frac 12 \| \ell_n\|\]
	a contradiction. Since finite linear combinations of the $v_n$s are dense, we can also consider finite linear combinations with rational coefficients; these are also dense, and countable. Thus, $V$ is separable. 
\end{proof}
Now, we move on to considering the question of the double dual. In finite dimensions, there is only one real or complex vector space of dimension $n$ up to isometry, namely $\R^n$ or $\C^n$. Its dual is also isomorphic to itself, and thus its double dual is simply itself. In infinite dimensions, this is no longer the case. We call such spaces \emph{reflexive}.
\begin{Definition}
	A Banach space $V$ is called reflexive if $V^{\prime\prime}=V$.  
\end{Definition}
A natural question is why we talk about Banach spaces here. It seems that this definition can be extended to \emph{any} normed space, where the dual inherits the operator norm topology. However, as we shall see, if a normed space is not Banach, it cannot be reflexive:

\begin{Theorem}
	The dual $V'$ of a normed space $V$ is a Banach space under the operator norm topology.
\end{Theorem}
\begin{proof}
	It was proven earlier that it is a normed space. For completeness, we let $\ell_n$ be a Cauchy sequence in $V'$. Then, since the reals are complete, we must have pointwise convergence of $\ell_n$. We call this limit function $\ell$.
	
	By pointwise convergence, $\ell$ must also be linear and bounded, and thus continuous. It is also clear that $\ell_n\to \ell$. 
\end{proof}
\begin{Example}
	$V=c_0$ is separable but $V'=\ell^\infty$ is not.
\end{Example}
\begin{Theorem}
	Pulling back the weak * topology from $V^{\prime\prime}$ to $V$ reproduces the weak topology, but the weak topology is finer than the weak * topology on $V'$.
\end{Theorem}
\begin{Theorem}
	Let $V$ be a normed space.
	\begin{parts}
		\item If $V$ is reflexive then $V$ is a Banach space
		\item If $V$ is reflexive then the weak and weak * topology on $V'$ coincide.
		\item If $U$ is a closed subspace of a reflexive space $V$ then $U$ is reflexive too.
		\item Suppose $V$ is complete. Then $V$ is reflexive iff $V'$ is reflexive.
	\end{parts}
\end{Theorem}
\begin{proof}
	\begin{parts}
		\item Clear since $V^{\prime\prime}$ is complete.
		\item We consider $\Psi\in V^{\prime\prime}$. We have $p_v(\varphi)=|\varphi(v)| = |i(v)\varphi|=\|\Psi(\varphi)|$. But since $E\mapsto n E$ is a homeomorphism, $E$ is nonmeager. However, as an intersection of closed sets, $E$ is closed. Together, this implies that $E$ has an interior point $x$. Then $x-E$ is a neighbourhood of 0, meaning that there exists 
	\end{parts}
\end{proof}
\begin{Theorem}
	Let $V$ be reflexive. Then $B_1(0)^\text{cl}$ is sequentially compact in the weak topology.
\end{Theorem}
\begin{Corollary}
	Let $V$ be reflexive.
	\begin{parts}
		\item A norm-bounded sequence in $V$ has a weakly convergent subsequence.
		\item Every weak Cauchy sequence converges weakly.
	\end{parts}
\end{Corollary}
\section{Banach-Steinhaus}
\begin{Definition}[Equicontinuity]
	Let $V$ and $W$ be topological vector spaces, and $\Gamma$ a collection of linear maps $V\to W$. $\Gamma$ is called equicontinuous if for all neighbourhoods $Z$ of $0_W$, we have a neighbourhood $V$ of $0_V$ such that $\Lambda(V)\subseteq Z$ for all $\Lambda\in \Gamma$.
\end{Definition}
\begin{Theorem}\label{thm:uniboundedness}
	Let $V$ and $W$ be topological vector spaces, $\Gamma$ an equicontinuous collection of linear maps, and $E$ a bounded subset of $V$. Then there exists a bounded $F$ in $W$ such that $\Lambda(E)\subseteq V$ for all $\Lambda\in \Gamma$.
\end{Theorem}
\begin{proof}
	Let $F$ be the union of the sets $\Lambda(E)$ for all $\Lambda\in \Gamma$. We show that this is bounded. By equicontinuity, we choose $Z\ni 0_W$ open, $U\ni 0_V$ open such that $\Lambda(U)\subseteq Z$ for all $\Lambda\in \Gamma$. Since $E$ is bounded, we must have $E\subseteq tU$ for some $t\in \R$. Then $\Lambda(E)\subseteq t \Lambda(U)\subseteq tW$ and thus $F$ is bounded.
\end{proof}
\begin{Theorem}[Banach-Steinhaus]
Suppose $V$ and $W$ are topological vector spaces, and $\Gamma$ is a collection of linear maps $V\to W$. Let $B$ be the set of all $v\in V$ such that the orbits
\[
\Gamma(v) = \{\Lambda v|\Lambda\in \Gamma\}  
\]
are bounded in $W$. 

If $B$ is nonmeager, then $B=V$ and $\Gamma$ is equicontinuous.
\end{Theorem}
\begin{proof}
	We pick balanced neighbourhoods $Z$ and $U$ of $0_W$ such that $\overline{U}+\overline{U}\subseteq Z$. Then we set
	\[
		E=\bigcap_{\Lambda\in \Gamma} \Lambda^{-1}(\overline{U})
	.\] 
	If $v\in B$, then $\Gamma(v)\subseteq nU$ for some $n$, thus $v\in n E$. Hence, we have
	\[
	B\subseteq \bigcup_{n=1}^\infty n E
	.\] 
	Since $B$ is nonmeager, we have at least one $nE$ nonmeager. However, since $E\mapsto n E$ is a homeomorphism, $E$ must itself be nonmeager. Since $E$ is closed, this means it has an interior point $v$. Then $v-E$ contains an open neighbourhood $V$ of $0$, and
	\[\Lambda(V)\subseteq \Lambda(v)- \Lambda (E)\subseteq \overline{U}-\overline{U}\subseteq W\]
	for all $\Lambda\in \Gamma$. This shows equicontinuity and hence uniform boundedness by Theorem \ref{thm:uniboundedness}.
\end{proof}
Often, the fact that $B$ is nonmeager comes from properties of the space. Again, note as we did in \ref{subsec:baire} that even being pointwise bounded everywhere does not necessarily imply that $B$ is nonmeager, as a topological space $X$ needs not be nonmeager unless it is a Baire space. By Theorem \ref{thm:baire1}, we have the following corollary:
\begin{Corollary}
	Let $V$ be a Banach space, $W$ a topological vector space and $\Gamma$ be a collection of functions $V\to W$. If the sets
	\[\{\Lambda v| \Lambda\in \Gamma\}\]
	are bounded for all $v\in V$, then $\Gamma$ is equicontinuous. 
\end{Corollary}
As another corollary, let us relate this to the operator norm:
\begin{Corollary}\label{cor:banachsteinhaus}
	Let $V$ be a Banach space, $W$ normed, $\Gamma$ a collection of linear functions $V\to W$. If
	\[\sup_{\Lambda\in \Gamma}\| \Lambda v\| < \infty\]
	for all $v\in V$, then there exists $M$ such that $\| \Lambda v\| \le M \|v\|$ for all $v\in V, \Lambda\in \Gamma$, i.e. the collection $\Gamma$ is operator norm bounded.
\end{Corollary}
The above statement is commonly known as the Banach-Steinhaus theorem.
\begin{proof}
	The theorem directly yields, for $\|v \| \le 1$ and $\Lambda\in \Gamma$, a constant $M$ such that
	\[\|\Lambda v\| < M.\]
	Linearity yields the relation
	\[\| \Lambda v\| < M \|v\|\]
	for all $v\in V$.
\end{proof}
As another corollary, we have
\begin{Corollary}
	Let $\Gamma_n$ be a sequence of continuous linear mappings from a Banach space $V$ into a topological vector space $W$. If the sequence converges pointwise, it converges to a continuous linear function.
\end{Corollary}
\begin{proof}
	By Corollary \ref{cor:banachsteinhaus}, the sequence is equicontinuous. Thus, if $Z$ is a neighborhood of $0_W$, we have a neighbourhood $U$ of $0_V$ such that $\Lambda_n(U)\subseteq Z$ for all $n\in \N$. Then, $\Lambda(U)\subseteq \overline{Z}$ and is hence continuous. 
\end{proof}
\section{Open Mapping \& Closed Graph Theorems}
All continuous bijections $\R \to \R$ are homeomorphisms, as they must either be increasing or decreasing. In general, it is not true that continuous bijections are homeomorphisms, as we shall see:
\begin{Example}[Continuous bijections are not homeomorphisms]
	The map $[0,2\pi)\to S^1, t\mapsto e^{it}$ is continuous and bijective, but not a homeomorphism.
\end{Example}
However, the situation for \emph{linear} maps is much better.
\begin{Theorem}
	Let $\Phi:V\to W$ be a linear map between topological vector spaces. Then $\Phi$ is an open map iff for every zero neighbourhood $Z\subseteq V$ then $\Phi(Z)\subseteq W$ is a zero neighbourhood. It suffices to test this for a basis of zero neighbourhoods in $V$.
\end{Theorem}

The condition above is also known as the property of being \uline{open at 0}. Because of the translational invariance, if $\Phi$ is open at 0, it is also open at all points in $v$, and hence it is open. Open maps in Banach spaces are completely characterised through the following theorem
\begin{Theorem}[Open Mapping Theorem]
	Let $L:V\to W$ be a continuous linear transformation between Banach spaces $V$ and $W$. Then the following are equivalent:
	\begin{parts}
		\item $L$ is surjective.
		\item $L$ is open.
		\item For every $w\in W$ there exists a solution $v\in V$ to the equation $Lv = w$.
		\item There is a constant $C>0$ such that for every $w\in W$ there is a solution $v\in V$ to the equation $Lv = w$ that satisfies $\|v \| \le C \|w\|$. 
		\item There is a constant $C>0$ and a dense subspace of vectors $P\subseteq W$ such that the previous condition applies to this dense subspace.
	\end{parts}
\end{Theorem}
\begin{proof}
	Clearly, (c) is equivalent to (a). (d) also clearly implies (c) and (e). 
	
	Now we show equivalence of (b) and (d). Suppose (b). Then we know that $L(B_1(0_V))$ contains an open ball $B_r(0_W)$. By rescaling, given $w$, we know that $L(B_{2\|w\|/r}(0))$ contains $w$ by linearity. Conversely, we know that the image of the open ball with radius $C$ includes the open ball of radius $1$ around the origin, which shows openness at 0.  
	
	Now suppose (e). We show (d) by observing that we can approximate $w\in W$ arbitrarily well by vectors from $P$. Thus, we approximate $w$ using a sequence $w_n$ such that $\sum w_n = w$. For each $w_n$, we can solve the equation to get $v_n$, with $\| v_n\| \le C \| w_n\|$. By the triangle inequality and completeness of $V$, we have $\|v\| \le C \|w\|$ and $Lv = w$. 
	
	Thus it only remains to show that (c) implies (d). For each $n\in \N$, we let $E_n\subseteq W$ be the subset of $W$ such that there exists a solution to $Lv=w$ with $\|v\|\le n \|w\|$. By (c), we know that the union of the $E_n$s is the entire space. Thus, the closure of some $E_n$ contains a ball $B_r(w_0)$. 
	
	Then, the proof follows a sequence of approximations
	\begin{enumerate}
		\item Since $E_n$ is dense in $B_r(w_0)$, we have \emph{approximate solvability} --- that is, for each $\epsilon>0$ and $w\in B_r(w_0)$, we have $v$ with $\|Lv - w\|_W \le \epsilon$ and $\|v\|_V\le n \|Lv\|_W$. Thus, $\|v\|_V \le n \|w_0\| + nr + n\epsilon$. 
		\item By subtracting two such approximate solutions, we get:
		
		For any $w\in B_{2r}(0)$ and $\epsilon>0$, we have $v\in V$ with $\|Lv - w\|_W\le 2 \epsilon$ and $\|v\|_V \le 2 n r + 2 n \epsilon$.
		\item By rescaling $L$, we can conclude that for any $\epsilon>0$, there exists $v\in V$ with $\|Lv - w\|_W\le 2\epsilon$ and $\|v\|_V \le 2 n \|w\|_W + 2 n \epsilon$.
		\item In particular, setting $\epsilon=\frac 14 \|w\|_W$, we conclude:
		
		For any $w\in W$, we have $w=Lv + w'$, where $\|w'\|_W\le \frac 12 \|w\|_W$ and $\|v\|_V\le \frac 52 n \|w\|_W$.
		\item By iterating this and using the completeness of $V$, we can find a solution that satisfies the bounds.\qedhere
	\end{enumerate}
\end{proof}	
The key point of the theorem (and what is commonly known as the open mapping theorem) is that surjectivity is equivalent to openness. Note that the reverse direction is actually trivial, as the only open subspace of $W$ is $W$ itself. 

As a corollary, we have
\begin{Corollary}[Inverse Mapping Theorem]
	A continuous bijective linear operator between Banach spaces has continuous inverse.
\end{Corollary}
Another consequence of the open mapping theorem is a theorem on the equivalence of norms
\begin{Corollary}
	Suppose $V$ is Banach with respect to the norms $\|\cdot\|_1$ and $\|\cdot\|_2$. If there exists $C$ such that
	\[\|v\|_1 \le C \|v\|_2\]
	for all $v\in V$, then the two norms are equivalent.
\end{Corollary}
\begin{proof}
	The inequality shows that the identity map is continuous. By the open mapping theorem, it is also open and thus a homeomorphism.
\end{proof}

The next theorem follows almost trivially from the open mapping theorem:
\begin{Theorem}[Closed Graph Theorem]
	Let $L:V\to W$ be a linear map between Banach spaces. Then $L$ is continuous iff its graph
	\[\Gamma_L=\{(v, Lv)|v\in V\}\subseteq V\times W\]
	is closed in the product topology. 
\end{Theorem}
\begin{proof}
	Let $f$ be a map $f:V\to W$. It factors as
	\[V \xrightarrow{i} \Gamma_f \xrightarrow{\text{pr}_W} W\]
	where $i$ is the inverse of the projection map. The projection map is continuous. If we can apply the open mapping theorem to $\text{pr}_V$, then it is open and hence a homeomorphism. Thus, the inverse $i$ is continuous, and $f$ is continuous as a composition of continuous maps. 
	
	In particular, $\text{pr}_V$ is always surjective. Since $L$ is linear by hypothesis, $\text{pr}_V$ is also linear, since $\text{pr}_V((v, Lv) + (w, Lw)) = v + w$. The last step we need is that $\Gamma_L$ is a Banach space. This follows because it is a closed subspace of a Banach space.
	
	The other direction of the proof is a well known property of topological spaces. If $L$ is continuous (not even necessarily linear), $v_n \to v$ and $Tv_n \to w$, we have $T (\lim v_n)= \lim Tv_n \to w$, thus the graph is closed. 
\end{proof}
The use of the closed graph theorem is as follows: In a first countable space, continuity is equivalent to sequential continuity, that is, $f$ is continuous if and only if for all $x_n\to x$, we have $f(x_n) \to f(x)$. Here, we must prove first that $f(x_n)$ converges, before showing that it converges to $f(x)$.

With the closed graph theorem, we can skip the first step. We can assume that $Tx_n$ converges, and all we need to show is that it converges to $Tx$.

Now, we show that the hypotheses of the open mapping theorem are all necessary. First, we construct an example with the domain being incomplete.
\begin{Example}[Nonopen Surjective Map with Incomplete Domain]
	There exists a surjective continuous linear function $\phi: V \to W$, with $V$ incomplete, $W$ complete that is not open.
\end{Example}
\begin{proof}
	Let $(W, \|\cdot\|)$ be any Banach space, and define $f$ to be a discontinuous linear functional (see Theorem \ref{thm:discontinuousfunctionals}). Then, let $V$ be the set $W$ equipped with the norm $\|v\|_f = \|v\| + |f(v)|$.
	
	By the triangle inequality on the real numbers, this is a norm. We now consider the identity map $\iota$ from $(W, \|\cdot\|_f)$ to $(W, \|\cdot \|)$. Since $\|v\| \le \|v\|_f$, this map is bounded and hence continuous.
	
	However, it cannot be open. Note that $f$ is continuous with respect to $\|\cdot\|_f$, as $|f(v)|\le \|v\|_f$. Thus, $f$ is bounded as a linear map between $(W, \|\cdot\|_f)$ and $\R$ and hence continuous. 
	
	If $\iota$ were open, then it would be a homeomorphism, and thus $f$ would be continuous relative to $\|\cdot\|$ too, a contradiction.
\end{proof}
In general, the above argument required the axiom of choice to prove existence of a Hamel basis. Here, we provide an example that does not
\begin{Example}[Nonopen Surjective Map With Incomplete Codomain]
	Let $V$ be $C([0,1])$. The identity map $(V, \|\cdot\|_\infty)\to (V, \|\cdot\|_1)$ is not open. 
\end{Example}
\begin{proof}
	We show that the image of the $\infty$-ball with radius $1$ is not open. In particular, we show that $0$ is not in the interior of the $\infty$-ball in the $L^1$ topology. 
	
	We do this by constructing a sequence of vectors that converge in $L^1$ to $0$, but which are all outside the $\infty$-ball. Intuitively, since the integral is a global average, we can construct continuous functions with spikes that get thinner, such that the integral converges to 0, while the peak remains high. 
	
	With this idea in mind, we construct
	\[f_n(x) = \begin{cases}
		nx & 0 \le x \le \frac 1n\\
		2 - nx & \frac 1n < x \le \frac 2n\\
		0 & \text{otherwise.}
	\end{cases}\]
The graph of this function is an isosceles triangle between $0$ and $2/n$ that peaks at height 1. Thus, it has $\infty$ norm 1, while it has $L^1$ norm equal to
\[\|f_n\|_1 = \frac 1n.\]
Thus, $f_n\to 0$ in the $L^1$ norm, while lying in the exterior of the $\infty$-ball with radius $1$. 
\end{proof}
\chapter{Hilbert Spaces}
\section{Introduction}
\subsection{Scalar Product Spaces}
\begin{Definition}[Scalar Product]
	A scalar product in a vector space $V$ over $\C$ is a sesquilinear map $V\times V\to \C$, denoted by $\langle \cdot, \cdot \rangle$ such that
	\begin{parts}
		\item $\langle u, v+w\rangle =\langle u, v\rangle + \langle u, w\rangle$, $\langle u, aw\rangle = a\langle u, w\rangle$
		\item $\langle u, v\rangle = \overline{\langle v, u\rangle}$
		\item $\langle u, u\rangle>0$ for $u\neq 0$.
	\end{parts}
\end{Definition}
Clearly, all inner products induce a norm through $\|v\| = \langle v, v\rangle$. When we speak of the \emph{topology} of a scalar product space, we will speak of the topology induced by this norm. The most important inequality is the Cauchy-Schwarz inequality:
\begin{Theorem}[Cauchy-Schwarz]
	A scalar product satisfies
	\[|\langle u, v \rangle|^2 \le \|u\|^2 \|v\|^2.\]
\end{Theorem}
\begin{proof}
	First, we use sesquilinearity to expand
	\begin{equation}
		\|u + tv\| = \|u\|^2 + 2t \Re\langle u, v\rangle +t^2 \|v\|^2.\label{eq:scalarproduct}
\end{equation}
	Then, we set $t=-\Re\langle u, v\rangle /\|v\|^2$ and multiply by $\|v\|^2$ to get
	\[(\Re\langle u,v\rangle)^2 \le \|u\|^2\|v\|^2.\]
	Rescaling $u$ by a unit complex number to make $\langle u, v\rangle$ real, we get the desired inequality.
\end{proof}
The next question is what kind of norms come from a scalar product. This question is answered using the \emph{parallelogram law}
\begin{Proposition}
	Let $\|\cdot\|$ be a norm arising from a scalar product. Then
	\[
	\|u+v\|^2 + \|u-v\|^2 = 2\|u\|^2 + 2\|v\|^2
	.\] 
\end{Proposition}
\begin{proof}
	We set $t=\pm 1$ in Eq.~\eqref{eq:scalarproduct} and sum up the two resulting equations.
\end{proof}
The geometric intuition behind this identity comes from the scalar product in $\R^2$:

\begin{center}
	\begin{tikzpicture}[scale=1.5]
		\draw[thick] (0,0) -- (1,2) -- (2,2) -- (1,0) -- cycle;
		\draw[ultra thick, -stealth] (0,0) -- (1,0) node[anchor=north] {$u$};
		\draw[ultra thick, -stealth] (0,0) -- (1,2) node[anchor=south] {$v$};
		\draw[ultra thick, -stealth] (1,2) -- (1,0) node[anchor=south west] {$u-v$};
		\draw[ultra thick, -stealth] (0,0) -- (2,2) node[anchor=south west] {$u+v$};
	\end{tikzpicture}
\end{center}

The construction of a scalar product from the norm then comes from the \emph{polarization identity}, which we only discuss in the real case:

\begin{Theorem}[Polarization Identity]
	Suppose $\|\cdot\|$ is a norm satisfying the parallelogram law. Then
	\begin{align*}
		\langle u, v\rangle &= \frac{1}{4}\left( \|u+v\|^2-\|u-v\|^2 \right)\\
		&=\frac 12 \left(\|u+v\|^2-\|u\|^2 - \|v\|^2\right)\\
		&=\frac 12\left(\|u\|^2 + \|v\|^2 - \|u-v\|^2\right)
	\end{align*}
	defines a scalar product.
\end{Theorem}
\begin{proof}
	First, we note that all 3 forms are equivalent by the parallelogram law. Symmetry is clear. Positivity is clear by substituting $u=v$ into the first form. Finally, we show linearity. We attempt to equate $\langle u,  v + w\rangle$ with $\langle u, v\rangle +  \langle u, w\rangle$:
	\[\|u+v+w\|^2 - \|u - v - w\|^2 \overset{?}{=} \|u + v\|^2 -\|u - v\|^2+\|u+w\|^2 - \|u - w\|^2\]
\end{proof}
Now that we understand how scalar products work, we move on to the theory of Hilbert spaces:
\begin{Definition}[Hilbert Space]
	A Hilbert space is a complete scalar product space.
\end{Definition}
\subsection{Subspaces}
\begin{Theorem}[Convex Minimizer]\label{thm:convexminimizer}
	Given a nonempty closed, convex subset $K$ of a Hilbert space $\mathcal{H}$ and $x\in H$, there is a point $y$ in $K$ that has minimum distance to $x$.
\end{Theorem}
\begin{proof}
	First, we define the infimum distance
	\[d = \inf_{y\in K} \| y - x\|.\]
	We let $y_n$ be a sequence that minimizes distance --- that is, 
	\[\lim_{n\to\infty} d_n= d,\qquad d_n = \|x - y_n\|\]
	We will show that this sequence is Cauchy. Because $K$ is closed, it will then converge in $K$. By continuity, it will converge to a minimum of distance.
	
	We do this by applying the parallelogram law:
	\[\left\| x - \frac{y_n+y_m}{2}\right\|^2+\frac 14 \|y_n - y_m\|^2 = \frac 12 (d_n^2+d_m^2).\]
	Since $K$ is convex, $(y_n + y_m)/2$ is in $K$, and thus
	\[d \le \left\| x - \frac{y_n+y_m}{2}\right\| < d + \epsilon.\]
	Using this, we can bound $\|y_n - y_m\|$ and show that it is Cauchy.
\end{proof}
\begin{Definition}
	If $W$ is a linear subspace, its orthogonal complement is the set of vectors orthogonal to $W$ - that is,
	\[W^\perp = \{v\in V | \langle v, w\rangle = 0~\forall w\in W\}.\]
\end{Definition}
We now ask the question of when we have the standard result in linear algebra - that is, when we can decompose a vector space as the direct sum of a subspace and its complement. It turns out that this is not true for all subspaces, as we now see
\begin{Theorem}
	Let $\mathcal{H}$ be a Hilbert space, $Y$ a closed subspace of $\mathcal{H}$, $Y^\perp$ the orthogonal complement of $Y$. We claim that
	\begin{parts}
	\item $Y^\perp$ is a closed subspace of $Y$,
	\item $Y\oplus Y^\perp = \mathcal{H}$, 
	\item $(Y^\perp)^\perp = Y$.
	\end{parts}
\end{Theorem}
\begin{proof}
	By the sesquilinearity of the scalar product, $Y^\perp$ is a vector subspace. Now we show that it is closed. Since $\mathcal{H}$ is Hilbert, being closed is equivalent to being complete.

	Let $(v_n)_n\subseteq Y^\perp$ be convergent, $v_n\to v$. We have
	\[
	\langle v, u\rangle = \langle v - v_n, u\rangle + \langle v_n, u\rangle = \langle v - v_n, u\rangle
	.\] 
	Then, by applying the Schwarz inequality, we have
	\[
	\langle v, u \rangle \le \|v - v_n\|\|u\|
	\]
	for $u\in Y$. Since the first norm tends to $0$, $v$ is perpendicular to $u$ for all $u\in Y$, or $v\in Y^\perp$. 

	The second part is done analogously to the finite dimensional case, but with much more machinery required. Consider $v\in \mathcal{H}$. By Theorem \ref{thm:convexminimizer}, we have a point $u$ in $Y$ closest to $v$. We show that $v-u\in Y^\perp$.  

	By the minimal property of $u$, we have, for any $y\in Y$,
	\[
	\|v - u\|^2 \le \|v - u + ty\|^2
	.\] 
	Defining $z=v-u$, we can rewrite the right hand side as
	\[
	\|z + ty\|^2= \|z\|^2 + 2t \Re \langle z, y\rangle + t^2 \|y\|^2
	.\] 
	Since this is minimised, we must have $\langle z, y\rangle = 0$.

	The decomposition is unique, as if we had $v = y + z = y' + z'$, then $y-y'=z-z'$ would be orthogonal to each other, as they belong to $Y$ and $Y^\perp$ respectively, but that implies that they are 0.

	The direct sum decomposition shows (c) directly.
\end{proof}
\subsection{Duality}
We finally move on to what is the core theorem of scalar product spaces. In finite dimensional scalar product spaces, given a basis for a vector space, we can define a dual basis. This then yields an isomorphism between a vector space and its dual. In a scalar product space, this can be done without even the choice of a basis. We now seek to do the same. Before this proof, we first need a lemma:
\begin{Lemma}
	Let $V$ be a Banach space.
	\begin{parts}
	\item The nullspace of a linear functional that is not identically 0 is a linear subspace of codimension 1.
	\item If two linear functionals have the same nullspace, they are a constant multiple of each other.
	\item The nullspace of a bounded linear functional is a closed subspace.
	\end{parts}
\end{Lemma}
\begin{proof}
	\begin{parts}
	\item Follows from the fundamental theorem of homomorphisms for groups:
		\[
		V / \ker~f \cong \R
		\]
		which has dimension 1.
	\item Let $v\in V$. We decompose $v$ into the sum $v = u + w$, where $u$ is in the (shared) kernel and $w$ is not (this requires that the kernel is closed, see (c)). 

		Then, the two linear functionals are uniquely determined through their action on $w$. But since $w$ is in a 1-dimensional subspace, it follows that the two functionals are a constant multiple of each other.
	\item A bounded linear functional is continuous; the preimage of $0$ is hence closed. The subspace property follows from linearity as it does in finite dimensions.\qedhere
	\end{parts}
\end{proof}
Now the important theorem follows immediately:
\begin{Theorem}[Riesz Representation Theorem]
	Let $f$ be a bounded (and hence continuous) linear functional on a Hilbert space $\mathcal{H}$. Then $f$ has the form
	\[
	f = \langle v, \cdot\rangle
	.\] 
	The point $v$ is uniquely determined.
\end{Theorem}
\begin{proof}
The nullspace $Y$ of $f$ is a closed subspace of $\mathcal{H}$. Its orthogonal complement $Y^\perp$ is one-dimensional. Let $p$ be nonzero in $Y^\perp$, and define the linear functional $m$ by $m = \langle p, \cdot \rangle$. This is a linear functional with the same nullspace as $f$, and by rescaling appropriately, we regain $f$. 	
\end{proof}
As a corollary, we have
\begin{Corollary}
	Every Hilbert space is reflexive.
\end{Corollary}
A generalization is the Lax-Milgram Theorem
\begin{Theorem}[Lax-Milgram]
	Let $\mathcal{H}$ be a Hilbert space and $B(u, v)$ be a function of two variables with the following properties:
	\begin{parts}
		\item $B(x,y)$ is linear in $y$ and skew-linear in $x$,
		\item There exists $c$ such that
		\[|B(u,v)|\le c \|u\| \|v\|,\]
		\item There exists $b>0$ such that
		\[|B(v,v)|\ge b\|v\|^2\]
		for all $v\in \mathcal{H}$.
	\end{parts}
Then every bounded linear functional $\ell$ has the form
\[\ell(v) = B(u, v),\]
where $u$ is a uniquely determined vector in $\mathcal{H}$.
\end{Theorem}
\begin{proof}
Since $B(u, \cdot)$ is linear, we can write it as $\langle u', \cdot \rangle$ for some $u'\in \mathcal{H}$. Since $u'$ is uniquely determined by $u$, it is a function of $u$. By the linearity of $B$, it must be a linear function of $u$. Thus, the set of possible $u'$ is a linear subspace of $\mathcal{H}$. We claim that it is a closed subspace.

To do this, we consider the ``norm''
\[B(u, u) = \langle u', u\rangle.\]
Then, we approximate their absolute values through the Cauchy-Schwarz inequality and condition (c):
\[b \| u\|^2 \le \|u'\|\|u\|\]
or
\[b \|u\| \le \|u'\|.\]
Note here again that $u'$ is a linear function of $u$. Now we consider a sequence $u'_n$ with corresponding $u_n$. We have, by skew-linearity,
\[B(u_n - u_m, v) = \langle u'_n - u'_m, v\rangle.\]
By the previous argument, this means that
\[b\|u_n-u_m\| \le \|u_n' - u_m'\|.\]
This means that if the $u_n'$s form a Cauchy sequence, so do the $u_n$s. By completeness, this converges. Thus, if $u_n'\to u'$ and $u\to u'$, we have, by continuity both of $B$ and of the scalar product,
\[B(u, v) = \langle u', v\rangle.\]
Thus, $u'$ is still a candidate vector that may be produced by the Riesz Representation theorem, showing that the subspace is closed. Now, we show that this closed subspace is all of $\mathcal{H}$. Otherwise, there would be a vector $w$ orthogonal to all $u'$. Then $B(u, w)=0$ for all $u\in \mathcal{H}$. Letting $u=w$ yields $B(w,w)=0$, or $w=0$.

Now, we put the pieces of the puzzle in place. By the Riesz theorem, we know that
\[\ell = \langle u', \cdot\rangle\]
for some $u'\in \mathcal{H}$. By the previous argument, we know that
\[\langle u',\cdot \rangle = B(u, \cdot)\]
for some $u\in \mathcal{H}$. This completes the proof.
\end{proof}
The isomorphism between a Hilbert space and its dual yields many important facts about the Hilbert space, that we could previously only prove for its topological dual. First, we prove that the isomorphism is still an isomorphism of the weak and weak-* topologies:
\begin{Theorem}
	The canonical antilinear isomorphism $\iota: \mathcal{H}\to \mathcal{H}'$ is a homeomorphism with respect to the weak and weak-* topologies on $\mathcal{H}$ and $\mathcal{H}'$ respectively.
\end{Theorem}
\begin{proof}
The weak* topology of $\mathcal{H}'$ is defined by the seminorms $p_\psi(\varphi) = |\varphi(\psi)|$. Thus, we have, for $\phi\in \mathcal{H}$,
\[
p_\psi(\iota(\phi)) = |\langle \phi, \psi\rangle| = p_\psi(\phi)
\]
where $p_\psi$ is a seminorm on $\mathcal{H}$ defined by $p_\psi(\phi) = |\langle \psi, \phi\rangle |$. 

By the Riesz representation theorem, there is a correspondence between the seminorms on $\mathcal{H}$ and those on $\mathcal{H}'$ induced by the canonical antilinear isomorphism $\iota$. Thus, they are homeomorphic.
\end{proof}
As consequence, we have Banach-Alaoglu
\begin{Corollary}
	The closed unit ball in a Hilbert space is weakly compact.
\end{Corollary}
its first main consequence
\begin{Corollary}
	The closed unit ball in a Hilbert space is sequentially compact in the weak topology, i.e. every bounded sequence has a weakly convergent subsequence.
\end{Corollary}
\section{Lattices}
The previous results about closed subspaces of Hilbert spaces can be generalized using the concept of a \emph{lattice}:
\begin{Definition}[Lattice]
	A set $V$ with two operations $\wedge, \vee:~V\times V \to V$ is called a lattice if for all $a,b,c\in V$ we have
	\begin{parts}
	\item (Commutativity and associativity of $\vee$): $a\vee b = b \vee a$, $a\vee (b \vee c)= (a \vee b)\vee c$, 
	\item (Commutativity and associativity of $\wedge$): $a\wedge b = b \wedge a$, $a\wedge (b\wedge c)=(a\wedge b)\wedge c$,
	\item (Symmetry) $a\vee a = a = a \wedge a$,
	\item $(a\vee b )\wedge a=a=(a\wedge b)\vee a$.
	\end{parts}
\end{Definition}
The last part can be understood by thinking of $\wedge$ as a logical AND and thinking of $\vee$ as a logical OR. On a lattice, we can create a partial order:
\begin{Lemma}
	Let $V$ be a lattice.
	\begin{parts}
	\item $a\vee b = b$ iff $a\wedge b  = a$ for all $a,b\in V$.
	\item We define $a\le b$ if $a\vee b = b$. This turns $V$ into a partially ordered set.
	\item The partial order admits infimums and supremums for two elements $a,b\in V$,given by
		\[
		\inf(a,b)=a\wedge b,\qquad \sup(a,b)=a\vee b
		.\] 
	\end{parts}
\end{Lemma}
\begin{proof}
\begin{parts}
\item Suppose $a\vee b = b$. Then
	\[
	(a\vee b)\wedge a = b \wedge a = a \wedge b = a
	\]
	by (d) of the definition. Conversely, if $a\wedge b = a$, then
	\[
	(b\wedge a)\vee b = a \vee b = b 
	.\] 
\item We verify the three properties
	\begin{enumerate}[label=(\arabic*)]
		\item (Reflexivity) Since $a\vee a = a$, we have $a\le a$.
		\item (Symmetry) Suppose $a\vee b = b$, and $b\vee a = a$. Then $a=b$ by commutativity.
		\item (Transitivity) Suppose $a\vee b = b$, and $b \vee c = c$. Then
			\[
			a\vee c= (a \wedge b) \vee c =(a \wedge  b \wedge c) \vee c = [c\wedge (a \wedge b)] \vee c = c
			.\] 
	\end{enumerate}
\item First, we show that these are actually lower and upper bounds respectively. We have
	\[
	(a\wedge b)\vee a = a,~(a\wedge b)\vee b = b
	\] 
	directly by definition. Similarly,
	\[
	a\vee (a\vee b)=(a\vee a)\vee b = a\vee b,~b \vee(a\vee b) = (b\vee b)\vee a = a \vee b
	.\] 
	Then, we show that these are minimal and maximal lower and upper bounds. Suppose $c$ is a lower bound of $a$ and $b$, that is, $c\wedge a = c\wedge b = c$. Then
	\[
	c\wedge (a \wedge b)=(c\wedge a)\wedge b = c
	.\] 
	Thus, $c\le a\wedge b$. Suppoes now that $c$ is an upper bound, i.e. $c\vee a = c$ and $c\vee b = c$. Then
	\[
	c\vee (a\vee b) = c
\]
analogously to the previous result, as desired.\qedhere
\end{parts}	
\end{proof}
We can define maximal and minimal elements:
\begin{Definition}[Maximal \& Minimal Elements]
	Let $(V, \wedge, \vee)$ be a lattice.
	\begin{parts}
	\item $1\in V$ is called a maximal element if $v\le 1$ for all $v\in V$.
	\item $0\in V$ is called a minimal element if $0\le v$ for all $v\in V$.
	\end{parts}
\end{Definition}
If we have two minimal/maximal elements, they must be equal due to reflexivity. The most noticeable difference between quantum and classical logic is the failure of the distributive law. If a lattice satisfies the distributive law, it is called a \emph{distributive lattice}:
\begin{Definition}[Distributive Lattice]
	Let $(V, \wedge, \vee)$ be a lattice. It is called distributive if, for all $a,b,c\in V$, we have
	\[
	a\wedge (b\vee c)=(a\wedge b)\vee(a\wedge c),\qquad a\vee (b\wedge c)=(a\vee b)\wedge(a\vee c)
	.\] 
\end{Definition}
This does not hold in quantum logic
\begin{Example}
	We define three statements
	\begin{align*}
		a&:\text{``The particle has momentum in the interval $[0,1 / 6]$''}\\
		b&:\text{``The particle is in the interval $[-1,1]$''}\\
		c&: \text{``The particle is in the interval $[1,3]$''}
	\end{align*}
	The distributive law
	\[
	a\wedge (b\vee c) = (a \wedge b)\vee (a \wedge c)
	\]
	does not hold, where $\wedge$ is logical AND and $\vee$ is logical OR.
\end{Example}
\begin{proof}
	We do not prove this in detail. However, we note that the Heisenberg uncertainty principle implies that $(a\wedge b)\vee (a \wedge c)$ is a harsher condition.
\end{proof}
We can also include a logical NOT in the operation:
\begin{Definition}[Orthomodular Lattice]
	Let $(V, \wedge, \vee, 0, 1)$ be a lattice with a maximum and minimum element with a map $V\to V, v\mapsto v'$ that satisfies
	\begin{enumerate}[label=(\alph*)]
	\item $a\le b\implies b' \le a'$,
	\item $(a')'=a$,
	\item $a\wedge a' = 0$,
	\item $a\vee a'=1$
	\end{enumerate}
	for all $a,b$, then $V$ is called orthocomplemented. If, in addition,
	\begin{enumerate}[label=(\alph*), resume]
		\item $a\le b \implies (a\vee b')\vee b = a$ for all $a,b\in V$,
	\end{enumerate}
	then it is called orthomodular.
\end{Definition}
First, we define the lattice of classical logic
\begin{Example}[The lattice $2^M$]
	Let $M$ be a set and $2^M$ its power set. Then define
	\[
	U\wedge V = U \cap V, \qquad U\vee V = U \cup V
\]
as well as $0=\varnothing,~1=M, U'= M \setminus U$. Then $2^M$ is an orthomodular distributive lattice with the partial order being set inclusion.
\end{Example}
The quantum logic lattice is equivalent to the lattice of closed subspaces:
\begin{Example}[Lattice of Closed Subspaces]
	Let $\mathcal{H}$ be a Hilbert space. We define a lattice on the set of all closed subspaces of $\mathcal{H}$ by
	\[
		U\wedge V = U \cap V,\qquad U\vee V = (U + V)^\text{cl}
	,\]
	and $U' = U^\perp,~0=\{0\},~1=\mathcal{H}$. Then the ordering is given by inclusion. If $\text{dim }\mathcal{H}\ge 2$ then this lattice is not distributive.
\end{Example}
\section{Bases}
As one might expect, the next step up from a (Schauder) basis in a Banach space would be an orthonormal basis:
\begin{Definition}[Orthonormal Basis]
	A Hilbert space basis $\{v_n\}$ is a set of vectors whose closed linear span is the entire space, such that $\langle v_i, v_j\rangle =0$ for $i\neq j$, and $\|v_n\| = 1$.
\end{Definition}
Note that orthogonality implies linear independence, with the same proof as in finite dimensions. Such bases are called Hilbert space bases. Such bases always exist, by the classic Zorn's Lemma argument. Let us first prove a series of properties of an orthonormal system of vectors:
\begin{Theorem}[Orthonormal System]
	Let $\mathcal{H}$ be a pre-Hilbert space and $\{e_i\}_{i\in I}$ an orthonormal system of vectors in $\mathcal{H}$. Then
	\begin{parts}
		\item For every finite subset $J\subseteq I$ we have
		\[\sum_{j\in J}|\langle e_j, \psi\rangle|^2 \le \|\psi\|^2.\]
		\item For every $\psi\in \mathcal{H}$ the set
		\[I_\psi = \{i\in I|\langle e_i, \psi\rangle \neq 0\}\subseteq I\]
		is a countable subset of $I$.
		\item Bessel's Inequality
		\[
		\sum_{i\in I} |\langle e_k, \psi\rangle|^2 \le \|\psi\|^2
		\]
		holds in the sense that only countably many of these are nonzero.
		\item For all $\varphi, \psi\in \mathcal{H}$ we have
		\[\sum_{i\in I}|\langle \varphi, e_i\rangle \langle e_i, \psi\rangle|\le \|\varphi\| \|\psi\|\] 
		where the sum is to be interpreted as in the previous part.
		\item If $\mathcal{H}$ is complete, and $U$ is the closed linear span of the $\{e_i\}$s, then for every $\psi\in \mathcal{H}$ the series
		\[\sum_{i\in I}\langle e_i, \psi\rangle e_i=\psi_{\parallel}\]
		converges unconditionally to the parallel component of $\psi$.
	\end{parts}
\end{Theorem}
\begin{proof}
	\begin{parts}
	\item 	We consider the ``basis decomposition'' of the vector $\psi$:
	\begin{align*}
		0\le \left\|x - \sum_{k=1}^n \langle e_k, \psi\rangle e_k\right\|^2 &=  \|\psi\|^2 - 2\sum_{k=1}^n \Re \langle\langle e_k, \psi\rangle e_k, \psi\rangle + \sum_{k=1}^n |\langle e_k, \psi\rangle|^2\\
		&= \|\psi\|^2 - \sum_{k=1}^n |\langle e_k, \psi\rangle|^2.
	\end{align*}
\item This follows from the previous part, and is the elementary result that an uncountable sum of positive numbers must be infinite: Consider an uncountable sum $\sum_{i\in I}x_i$. Then we have
\[\{x_i\}_{i\in I}= \bigcup_{n=1}^\infty \left\{x_i | x_i > \frac 1n\right\}.\]
Since at least one of these sets must be infinite, the sum must diverge.
\item Follows immediately from the preceding two parts.
\item First, note that the only nonzero indices are those in $I_\varphi \cap I_\psi$, which must be countable. Then, using Hölder's inequality, we have
\begin{align*}
	\sum_{i\in I}|\langle \varphi, e_i\rangle \langle e_i, \psi\rangle| &= \sum_{i\in I_\varphi \cap I_\psi}|\langle \varphi, e_i\rangle \langle e_i, \psi\rangle|\\
	&\le \sqrt{\sum_{i\in I_\varphi \cap I_\psi}|\langle e_i, \varphi\rangle|^2}\sqrt{\sum_{i\in I_\varphi \cap I_\psi}\langle e_i, \psi\rangle|^2}\\
	&\le \|\varphi\| \|\psi\|
\end{align*}
\item Earlier, we have already shown convergence. It then remains to show that this convergence is unconditional. Let $\sigma: \N \to \N$ be a rearrangement of the series. To do so, we note that the sum gets arbitrarily close after a certain number $N$. Then, we let $N'$ be the smallest number such that $\{1,\dots, N\}\subseteq \sigma(\{1,\dots, N'\})$. This shows that it converges to the same number.
	\end{parts}
\end{proof}
As one might expect, if the $e_n$s form a Hilbert space basis we have equality
\begin{Theorem}[Hilbert Space Bases]
	Let $\{e_i\}_{i\in I}$ be an orthormal system in a Hilbert space $\mathcal{H}$. Then the following statements are equivalent:
	\begin{parts}
	\item The set $\{e_i\} $ is a maximal orthonormal system. 
	\item $(\text{span}\{e_i\})^\perp = 0$.
	\item The subspace spanned by the $\{e_i\} $s is dense in $\mathcal{H}$.
	\item For all $\psi\in \mathcal{H}$ we have
		\[
			\psi = \sum_{i\in I}\langle e_i, \psi\rangle e_i
		.\] 
	\item For all $\varphi, \psi\in \mathcal{H}$ we have
		\[
		\langle \varphi, \psi\rangle = \sum_{i\in I}\langle \varphi, e_i\rangle \langle e_i, \psi\rangle
		.\] 
	\item Parseval's identity
		\[
			\|\psi\|^2 = \sum_{i\in I}|\langle e_i, \psi\rangle|^2
		\]
		holds.
	\end{parts}
\end{Theorem}
\begin{proof}
	Suppose (a). We argue in the contrapositive. If there is a nonzero vector $\psi$ that is perpendicular to all $e_i$, then we can append $\psi$ to the set to get a system that is still orthonormal.

	Now suppose (b). 

	Now suppose (c). 
\end{proof}
The existence of bases follows directly from the previous theorem.
\begin{Theorem}
	Every Hilbert space has an orthonormal Hilbert space basis.
\end{Theorem}
\begin{proof}
	By Zorn's Lemma, maximal orthonormal systems exist. By the previous theorem, they are Hilbert space bases.
\end{proof}
As in finite dimensions, we have the Gram-Schmidt procedure for orthogonalizing a finite set of vectors:
\begin{Theorem}[Gram-Schmidt]
	Let $\{u_n\}$ be a basis for the Hilbert space $\mathcal{H}$. Then there exists an orthonormal basis $\{v_n\}$ such that the span of $v_1, \dots, v_n$ is the span of $u_1, \dots, u_n$.
\end{Theorem}
\begin{Example}
	We can define a linear operator $T_n$ by $T_n(\sum a_k e_k)=\sum_{k=1}^n a_k e_k$. Then $T_nx\to x$, but $\|T_n - I\|\not\to 0$.
\end{Example}

\begin{Theorem}
	Any two Hilbert bases have the same cardinality
\end{Theorem}
\begin{proof}
	Let $e_i,~i\in I$ and $f_j,~j\in J$ be two Hilbert space bases for the Hilbert space $\mathcal{H}$. Then we let
	\[
	J_i=\{j\in J| \langle e_i, f_j\rangle \neq 0\} \subseteq J
	.\] 
	This is countable for all $i\in I$. Since $\{f_j\} $ is a Hilbert space basis, for every $j\in J$, there is $i\in I$ with $\langle e_i, f_j\rangle \neq 0$. We choose this to be $i(j)$.

	Then, the mapping $J\ni j\mapsto (j, i(j)) \in \sqcup_{i\in J}J_{i(j)}\times \{i(j)\} $ is injective.

	This is less than the $\#N\cdot \#I = \#I$.

	Thus, $\# J \le \# I$. By symmetry, we have the opposite inequality. Thus, by Schr\"{o}der-Bernstein, we have equal cardinalities.

	For the second part, we note that $(\langle e_i, \phi\rangle)_{i\in I}$ is square-summable, since the sum is equal to the norm, which is finite. We also note that
	\[
	\|U \Phi\|^2 = \|\phi\|^2<\infty
\]
which shows that $U\Phi\in \ell^2(I)$. By definition, $U$ is linear and isometric. \textcolor{red}{TODO} 
\end{proof}

\section{Constructions of Hilbert Spaces}
\begin{Definition}[Direct Sum]
	If $\{\mathcal{H}_i\}_{i\in I}$ is a collection of hilbert spaces, we define their direct product to be the linear algebraic direct product
	\[
		\mathcal{H}=\oplus_{i\in I}\mathcal{H}_i
	\]
	equipped with the inner product
	\[
		\langle (\phi_i)_{i\in I}, (\psi_i)_{i\in I}\rangle = \sum_{i\in I} \langle \phi_i, \psi_i\rangle
	.\] 
\end{Definition}

\begin{Proposition}
	Let $\{\mathcal{H}_i\}_{i\in I}$ be Hilbert spaces and $\mathcal{H}=\oplus_{i\in I}\mathcal{H}_i$. Then
	\begin{parts}
	\item $\hat{\mathcal{H}}=\{(\phi_i)_{i\in I}\in \prod_{i\in I}\mathcal{H}_i|\sum_{i\in I}\|\phi_i\|^2<\infty\} $ is a subspace of $\prod_{i\in I}\mathcal{H}_i$. For $(\phi_i)_{i\in I}\in \hat{\mathcal{H}}$ at most countably many $\phi_i$ are different from 0.
	\item $\hat{\mathcal{H}}$ is a pre-Hilbert space with the sum above (absolutely convergent)
	\item We have an isometric inclusion $\mathcal{H}\subseteq \hat{\mathcal{H}}$ with $\mathcal{H}^\text{cl}=\hat{\mathcal{H}}$. 
	\item $\hat{\mathcal{H}}$ is the Hilbert space completion of $\mathcal{H}$.
	\item Suppose $\{e^{(i)}_j\}_{j\in J_i}$ is a Hilbert space basis of $\mathcal{H}_i$. Then $(e_{ij})_{i\in I,j\in J_i}$ is a Hilbert space basis of $\hat{\mathcal{H}}$. 
	\end{parts}
\end{Proposition}
\begin{proof}
	We do the first 4 for $\ell^2(I, \mathbb{K})$.

	For (v) we consider a dense space in $\mathcal{H}$, that is then dense in $\hat{\mathcal{H}}.$
\end{proof}
\begin{Definition}
	Let $(\mathcal{H}_i)_{i\in I}$ be a collection of Hilbert spaces. Then the Hilbert space
	\[
		\hat{\oplus}_{i\in I}\mathcal{H}_i = \hat{\oplus_{i\in I} \mathcal{H}_i}= \hat{\mathcal{H}}
	\]
	is called the direct orthogonal sum of the $\mathcal{H}_i$s.
\end{Definition}
\begin{Definition}[Finite Tensor Product]
	Let $\mathcal{H}_1, \dots, \mathcal{H}_n$ be pre-Hilbert spaces. Then we define an inner product on the tensor product by
	\[
	\langle \phi_1\otimes \dots \otimes \phi_n, \psi_1\otimes\dots \otimes \psi_n\rangle = \langle \phi_1, \psi_1\rangle \dots \langle \phi_n \psi_n\rangle
	\] 
	and extending the map using bilinearity.
\end{Definition}
Note that his is actually a scalar product. First, we note that it is (sesqui-)linear by definition. 

Positivity is the hardest part. We choose a Hilbert space basis of each $\mathcal{H}_i$. Then, when we put in a sum, all cross terms vanish and we have a positive scalar product.
\section{Adjoints}
\begin{Definition}[Dual Operator]
	If $A:\mathcal{H}\to \mathcal{K}$ is linear, then the dual operator $A':\mathcal{K} \to \mathcal{A}$
\end{Definition}
\begin{Definition}[Adjoints]
	Let $A:\mathcal{H}\to \mathcal{K}$ be a map between pre-Hilbert spaces. Then $A$ is called adjointable if there is a map $A^\dagger:\mathcal{K}\to \mathcal{H}$ such that
	\[
		\langle \phi, A\psi\rangle_\mathcal{K}=\langle A^\dagger, \psi\rangle_\mathcal{H}
	\]
	for all $\phi\in \mathcal{K}, \psi\in \mathcal{H}$. The set of all adjointable operators is denoted by
	\[
		\mathcal{B}(\mathcal{H}, \mathcal{K})=\{A:\mathcal{H}\to \mathcal{K}|A\text{ is adjointable}\} 
	.\] 
\end{Definition}
\begin{Theorem}[Algebraic Properties]
	\begin{parts}
	\item If $A\in \mathcal{B}(\mathcal{H}, \mathcal{K})$, then $A$ is linear and its adjoint is unique.
	\item Let $A,B\in \mathcal{B}(\mathcal{H}_1, \mathcal{H}_2), C\in \mathcal{B}(\mathcal{H}_2, \mathcal{H}_3), \alpha, \beta\in \mathbb{K}$. Then $\alpha A + \beta B\in \mathcal{B}(\mathcal{H}_1, \mathcal{H}_2)$, $C\circ A\in \mathcal{B}(\mathcal{H}_1, \mathcal{H}_3)$ and $A^\dagger\in \mathcal{B}(\mathcal{H}_2, \mathcal{H}_1)$ with adjoints given by
		\begin{align*}
			(\alpha A + \beta B)^\dagger&=\overline{\alpha}A^\dagger+\overline{\beta}B^\dagger\\
			(C\circ A)^\dagger&=A^\dagger\circ C^\dagger\\
			(A^\dagger)^\dagger&= A
		\end{align*}
	\item For every pre-Hilbert space $\mathcal{H}$, the adjointable maps $\mathcal{B}(\mathcal{H})=\mathcal{B}(\mathcal{H}, \mathcal{H}')$ form a unital *-algebra with unit the identity and involution $A\mapsto A^\dagger$.
	\end{parts}
\end{Theorem}
\begin{Example}[Rank One Operator]
	Let $\phi\in \mathcal{H}, \psi\in \mathcal{K}$. Then define $\theta_{\psi, \phi}:\mathcal{H}\to \mathcal{K}$ by
	\[
		\theta_{\psi, \phi}(x) = \langle \phi, x\rangle_\mathcal{H} \psi
	.\] 
	In dirac's notation, this is $\theta_{\psi, \phi}=\ket{\psi}\bra{\psi}$. This map is adjointable with
	\[
		\theta_{\psi, \phi}^\dagger = \theta_{\phi, \psi}
	.\] 
\end{Example}
\begin{Definition}[Finite Rank Operators]
	Let $\mathcal{H}, \mathcal{K}$ be pre-Hilbert spaces. Then the linear span
	\[
		\mathcal{F}_{\mathcal{H}, \mathcal{K}} = \text{span}_\mathbb{K}\{\theta_{\psi, \phi}|\psi\in \mathcal{K}, \phi\in \mathcal{H}\} 
	\]
	are called finite rank operators.
\end{Definition}
\begin{Proposition}
	Let $\mathcal{H}_i, i=1,2,3$ be pre-Hilbert spaces. 
	\begin{parts}
	\item $\mathcal{F}(\mathcal{H}_1, \mathcal{H}_2)\subseteq \mathcal{B}(\mathcal{H}_1, \mathcal{H}_2)$.
	\item 
		\begin{align*}
			\mathcal{F}(\mathcal{H}_2, \mathcal{H}_3) \circ \mathcal{B}(\mathcal{H}_1, \mathcal{H}_2)&\subseteq \mathcal{F}(\mathcal{H}_1, \mathcal{H}_3)\\
			\mathcal{B}(\mathcal{H}_2, \mathcal{H}_3) \circ \mathcal{F}(\mathcal{H}_1, \mathcal{H}_2)&\subseteq \mathcal{F}(\mathcal{H}_1, \mathcal{H}_2)\\
			\mathcal{F}(\mathcal{H}_1, \mathcal{H}_2)^\dagger &= \mathcal{F}(\mathcal{H}_2, \mathcal{H}_1)
		\end{align*}
	\item $\mathcal{F}(\mathcal{H})\subseteq  \mathcal{B}(\mathcal{H)}$ forms a *-ideal. We have equality iff the dimension is finite.
	\end{parts}
\end{Proposition}
\begin{proof}
	\begin{parts}
	\item This is clear from the previous proposition.
	\item We have
		\begin{align*}
			A\circ \theta_{\phi, \psi}&=\theta_{A\phi, \psi}\\
			\theta_{x, \phi}\circ B&=\theta_{x, B^\dagger \phi}
		\end{align*}
	\item We note that 1 has finite rank by expressing it in terms of an orthonormal basis, and thus the dimension of its image is finite.\qedhere
	\end{parts}
\end{proof}
\begin{Example}[Inclusion Map]
Let $\mathcal{H}$ be a pre-Hilbert space with inclusion into its completion $\iota:\mathcal{H}\to \\hat{\mathcal{H}}$. This is adjointable iff $\mathcal{H}=\hat{\mathcal{H}}$.
\end{Example}
\begin{proof}
	Clearly, if $\mathcal{H}=\hat{\mathcal{H}}$, then $\iota$ is the identity map which is adjointable.

	Now, we suppose that $\iota$ is adjointable. Note that 
	\[
		\langle \iota^\dagger \iota \phi, \psi\rangle_\mathcal{H}= \langle \iota \phi, \iota \psi\rangle_{\hat{\mathcal{H}}}=\langle \phi, \psi\rangle_\mathcal{H}
	.\] 
	This implies that $\iota^\dagger\iota = \phi$. Define $P=\iota\iota^\dagger: \hat{\mathcal{H}}\to \hat{\mathcal{H}}$. Then $P^2=\iota\iota^\dagger\iota\iota^\dagger=P$, and thus $P$ is idempotent. Moreover, $P\iota\phi=\iota\phi$.

 Thus, $\Phi\in \text{im }P\implies \Phi=\iota\iota^\dagger\Phi$. We then decompose $\hat{\mathcal{H}}=\iota \mathcal{H}\oplus \text{ker }P$. If $\Phi\in \text{ker }P, \psi\in \mathcal{H}$ then
	\[
	\langle \Phi, \iota\psi\rangle_\mathcal{H}=\langle \iota^\dagger\Phi, \psi\rangle_\mathcal{H}=0
\]
where the last equality comes from 
\[
P\Phi=\theta^\dagger \Phi = 0 \iff \iota^\dagger \Psi = 0
.\] 
The earlier argument implies that this is an \emph{orthogonal decomposition}. Since $\iota \mathcal{H}\subseteq \hat{\mathcal{H}}$ is dense, this implies that $P$ has trivial kernel and is a homeomorphism, thus $\mathcal{H}$ is complete and $\mathcal{H}= \hat{\mathcal{H}}$.
\end{proof}
\begin{Theorem}[Hellinger-Toeplitz]
	Let $\mathcal{H}, \mathcal{K}$ be Hilbert spaces. Then $A:\mathcal{H}\to \mathcal{K}$ is adjointable iff $A$ is linear and bounded --- that is,
	\[
	\mathcal{B}(\mathcal{H}, \mathcal{K}) = L(\mathcal{H}, \mathcal{K})
	.\] 
\end{Theorem}
\begin{proof}
	Suppose $A$ is linear and continuous. Define the canonical isometries into the duals
	\[
		j_\mathcal{H}:\mathcal{H}\xrightarrow{\cong}\mathcal{H}', \qquad j_{\mathcal{K}}:\mathcal{K}\xrightarrow{\cong}\mathcal{K}'
	.\] 
	Then $A^\dagger = j_\mathcal{H}^{-1}\circ A' \circ j_{\mathcal{K}}$ will do the job, where $A'$ is the dual operator.

	Now, assume $A$ is adjointable. Firstly, it is linear (this is true in pre-Hilbert spaces). Now, we attempt to use the closed graph theorem to show it is continuous. We seek to prove that the graph
	\[
		\text{graph }A = \{(\phi, A\phi)|\phi\in \mathcal{H}\} 
	\]
	is closed.

	Let $(\phi_n)_{n\in \N}\subseteq \mathcal{H}, \phi_n \to \phi$ converge such that $A\phi_n\to \psi$ exists. Then, for $x\in \mathcal{K}$, we have
	\begin{align*}
		\langle x, \psi\rangle &= \langle x, \lim_{n\to \infty} A\phi_n\rangle \\
				       &= \lim_{n \to \infty} \langle x, A \phi\rangle\\
				       &= \lim_{n \to \infty} \langle A^\dagger x, \phi_n\rangle\\
				       &= \langle A^\dagger x, \phi\rangle \\
				       &=\langle x, A \phi\rangle
	\end{align*}
	This implies that $\psi = A \phi$, also the graph is closed. By the closed graph theorem, this implies that $A$ is continuous.
\end{proof}
These properties form a correspondence between the operator algebras and the C* algebras.
\begin{Definition}[*-Algebra]
	A *-algebra is a complex vector space with a bilinear associative product $(a,b) \mapsto ab$ and an inversion map $*:a\mapsto a^*$ such that
	\begin{align*}
		(\alpha a + \beta b)^* &= \overline{\alpha}a^* + \overline{\beta}b^*\\
		(a^*)^*&=a\\
		(ab)^* &= b^*a^*
	\end{align*}
\end{Definition}
\begin{Definition}[C*-Algebra]
	A C*-Algebra is a Banach algebra, that is, a complete normed space together with a product $(a, b)\mapsto ab$ such that $\|AB\|\le \|A\|\|B\|$, as well as an involution $*:A\mapsto A^*$ such that it is a *-algebra and 
	\[
\|A A^*\|= \|A\|\|A^*\|
	.\] 
\end{Definition}
The property that needs to be checked for continuous operators on Hilbert spaces is the C* condition. 
\begin{Proposition}
	Continuous operators on Hilbert spaces are a C*-Algebra.
\end{Proposition}
\begin{proof}
That it is a *-algebra has already been proven. We only need to verify the C* property.

	If $\|A\|^2 = \|A^\dagger A\|\le \|A^\dagger\|\| A\|$, we have $\|A\|\le \|A^\dagger\|$ and $\|A\|\le \|A^\dagger\|$. By symmetry, this implies the C* property.

	Now, we assume that $A\in \mathcal{B}(\mathcal{H}, \mathcal{K})$. Then, for $v\in \mathcal{H}$, we have
	\[\langle Av, Av\rangle = \langle v, A^\dagger A v\rangle \le \|v\|^2 \|A^\dagger A\|\]
	or
	\[\frac{\|Av\|^2}{\|v\|^2}\le \|A^\dagger A\|\]
	which shows by definition that
	\[\|A\|^2 \le \|A^\dagger A\|.\qedhere\]
\end{proof}
\section{Strong \& Weak Operator Topology}
\begin{Proposition}
	\begin{parts}
	\item Let $\mathcal{H}, \mathcal{K}$ be Hilbert spaces. A net $(A_i)_{i\in I}$of operators $\mathcal{B}(\mathcal{H}, \mathcal{K})$ converges to $A\in \mathcal{B}(\mathcal{H}, \mathcal{K})$ in the strong operator topology iff for every $\phi\in \mathcal{H}$ we have
	\[
		\lim_{i\in I}A_i\phi = A\phi
	.\] 
\item A net $(A_i)_{i\in I}$ is Cauchy in the strong operator topology iff for all $\phi \in \mathcal{H}$ we have $(A_i\phi)_{i\in I}$ Cauchy in $\mathcal{H}$. 
\item $\mathcal{B}(\mathcal{H}, \mathcal{K})$ is sequentially complete in the strong operator topology.
\item Composition is separately continuous in the strong operator topology, but not continuous in general.
\end{parts}
\end{Proposition}
\begin{proof}
	The first two are true for Banach spaces. The third is also true for Banach spaces:

	Let $B : \mathcal{K}\to \mathcal{X}$ be continuous and linear. Then $L_B: \mathcal{B}(\mathcal{H}, \mathcal{K})\ni A \mapsto BA = L_B(A)\in \mathcal{B}(\mathcal{H}, \mathcal{X})$ is continuous. 

	Suppose $\phi \in \mathcal{H}$. Then
	 \begin{align*}
		 \|L_B(A)\|_\phi &= \|BA\phi\|_\mathcal{X}\\
		&\le \|B\|\|A\phi\|_{\mathcal{X}}\\
		&= \|B\|\|A\|_\phi
	\end{align*}
	which implies that $L_B$ is continuous. 

	For right multiplication, we fix $A\in \mathcal{B}(\mathcal{H}, \mathcal{K})$ and define the mapping $R_A:\mathcal{B}(\mathcal{K}, \mathcal{X})\to \mathcal{B}(\mathcal{H}, \mathcal{X})$, $R_A(B) = BA$. Then, for $\phi\in \mathcal{H}$, we have
	\[
		\|R_A(B)\|_\phi = \|BA\phi\| = \|B\|_{A\phi}
\]
implying that $R_A$ is continuous in the strong operator topology.
\end{proof}
\begin{Example}[Shift Operator]
Let $\mathcal{H}=\ell^2$ and we express a vector $\psi\in \mathcal{H}$ as a sum of the canonical Hilbert basis $\psi=\sum_{n=1}^{\infty} \psi_n e_n$ with $\psi_n = \langle e_n, \psi\rangle$.

We define the shift operator by
\[
	S\psi = \sum_{n=1}^{\infty} \psi_n e_{n+1}
.\] 
Then $S$ is an isometry that is not surjective.
\end{Example}
\begin{proof}
	We have
	\begin{align*}
		\|S\psi\|^2 &= \left\langle \sum \psi_m e_{m+1}, \sum \psi_n e_{n+1}\right\rangle \\
			    &= \sum \langle \psi_n, \psi_n \rangle\\
			    &= \|\psi\|^2
	\end{align*}
	showing that $S$ is isometric. It is, however, clearly not surjective. Thus, it cannot be unitary:
	\begin{align*}
		\langle e_n, S^\dagger \psi\rangle &= \langle S e_n, \psi\rangle\\
						   &= \langle e_{n+1}, \psi\rangle\\
						   &= \psi_{n+1}
	\end{align*}
	Thus, 
	\[
		S^\dagger \psi = \sum_{n=1}^{\infty} \langle e_n, S^\dagger \psi\rangle e_n = \sum_{n=1}^{\infty} \psi_{n+1} e_n
	.\] 
	Then, we conclude that $S^\dagger$ is the map
	\[
	S^\dagger: (\psi_1, \psi_2, \dots )\mapsto (\psi_2, \psi_3, \dots)
	\]
	and $S^\dagger e_1 = 0$. This shows that it cannot be the inverse of $S$.
\end{proof}
\begin{Proposition}
	$(S^\dagger)^k\to 0$ in the strong operator topology, while $S^k\not\to 0$.
\end{Proposition}
\begin{proof}
	We have
	\[
		\|(S^\dagger)^k \psi\|^2 = \sum_{n=1}^{\infty} |\psi_{n+k}|^2 = \sum_{k=1}^\infty |\psi_n|^2 \to 0
	,\]
	while
	\[
	\|S^k \psi\|= \|\psi\|
\]
which clearly does not converge to 0. This shows that * involution is not conitnuous in the strong operator topology.
\end{proof}
\section{Types of Operators}
\begin{Definition}[Projector]
	An operator $P$ is called a projector if $P=P^\dagger = P^2$.
\end{Definition}
\begin{Definition}[Partial Isometry]
	A map between Hilbert spaces $U:\mathcal{H}\to \mathcal{K}$ is called a partial isometry, if the restriction
	\[
	U|_{\text{ker }U}:(\text{ker }U)^\perp \to \text{im }U
	\]
	is an isometric isomorphism.
\end{Definition}
\begin{Theorem}[Partial Isometries]
	Let $U\in \mathcal{B}(\mathcal{H},\mathcal{K})$. Then the following are equivalent:
	\begin{parts}
		\item $U$ is a partial isometry.
		\item $P=U^\dagger U$ is a projection.
		\item $U^\dagger$ is a partial isometry
	\end{parts}
\end{Theorem}
\begin{proof}
	If $U$ is a partial isometry, we have
	\begin{align*}
		\mathcal{H}&= \text{ker }U\oplus(\text{ker U})^\perp\\
		\mathcal{K}&= \text{im }U\oplus (\text{im }U)^\perp
	\end{align*}
	and we define $P=U^\dagger U\in \mathcal{B}(\mathcal{H})$. Clearly, we have $P=P^\dagger$. Now, we consider $\psi\in \mathcal{K}$ and $\phi\in \text{ker }U$. We have
	\[
	\langle \phi, U^\dagger\psi\rangle_\mathcal{H}= \langle U\phi, \psi\rangle_\mathcal{K}=0\implies U^\dagger \psi \in (\text{ker }U)^\perp
	.\] 
	This means that $\text{im }U^\dagger\subseteq (\text{ker }U)^\perp$.	
\end{proof}
Let us consider two vector spaces $\mathcal{H}$ and $\mathcal{H}$ such that $\mathcal{H}=\oplus_{i\in I} \mathcal{H}_i$ and $\mathcal{K}=\oplus_{j\in J}\mathcal{K}_j$. Then we define $P_i: \mathcal{H}\to \mathcal{H}_i$, which is an element of $\mathcal{B}(\mathcal{H}, \mathcal{H}_i)$ and similarly $Q_j:\mathcal{K}\to \mathcal{K}_j$.
\begin{parts}
\item Let $A\in \mathcal{B}(\mathcal{H}, \mathcal{K})$. Then we have continuous operators
	\[
		A_{ji}=Q_jAP_i:\mathcal{H}_i \to \mathcal{K}_j
	.\]
	with adjoints
	\[
		A_{ji}^\dagger = P_i A^\dagger Q_j:\mathcal{K}_j\to \mathcal{H}_j
	\]
	satisfying
	\[
		\|A_{ji}\|\le \|A\|
	.\] 
\item Conversely, given $A_{ji}\in \mathcal{B}(\mathcal{H}_j, \mathcal{K}_j)$ define an $A_{ji}\in \mathcal{B}(\mathcal{H}, \mathcal{K})$ by setting $A_{ji}|_{\mathcal{H}_{i'}}=0, i\neq  i'$. Then 
	\[
		Q_{j'}A_{ji}P_{i'}=A_{ji}\delta_{ii'}\delta_{jj'}
	.\] 
\item Let $A_{ji}\in \mathcal{B}(\mathcal{H}_i, \mathcal{K}_j)$ for $i\in I, j\in J$ such that
	\[
		\sum_{i\in I,j\in J}\|A_{ji}\|^2<\infty
	.\] 
	Then the blockwise defined operator
	\[
		A = \bigoplus_{i\in I, j\in J}A_{ji}:\mathcal{H}\to \mathcal{K}
	\]
	is a continuous operator $A\in \mathcal{B}(\mathcal{H}, \mathcal{K})$ with
	\[
		\|A\|\le \sqrt{\sum_{i\in I, j\in J} \|A_{ji}\|^2} 
	.\] 
\item Let $A_i\in  \mathcal{B}(\mathcal{H}_i)$. Then, suppose that for $i\in I$ we have $\sup_{i\in I}\|A_i\|<\infty$. Then,
	\[
		A=\bigoplus_{i\in I}A_i\in \mathcal{B}(\mathcal{H}).
	\]
	is bounded with
	\[
		\|A\|\le \sup_{i\in I}\|A_i\|
	.\] 
\end{parts}

\begin{Theorem}[Tensor Products]
	Let $\mathcal{H}_i, \mathcal{K}_i, i=1,2,3$ be Hilbert spaces, and let $A\in \mathcal{B}(\mathcal{H}_1, \mathcal{H}_2)$ and $B\in \mathcal{B}(\mathcal{H}_2, \mathcal{H}_3),\tilde{A}\in \mathcal{B}(\mathcal{K}_1, \mathcal{K}_2),\tilde{B}\in \mathcal{B}(\mathcal{K}_2, \mathcal{K}_3)$. Then
	\begin{parts}
	\item The map $A\otimes \tilde{A}: \mathcal{H}_1\otimes \mathcal{K}_1 \to \mathcal{H}_2 \otimes \mathcal{K}_2$ is continuous and extends to a continuous linear map
		\[
			A \hat{\otimes}\tilde{A}\in \mathcal{B}(\mathcal{H}\hat{\otimes}\mathcal{K}_1, \mathcal{H}_2 \hat{\otimes}\mathcal{K}_2)
		.\] 
	\item One has $\|A \hat{\otimes}\tilde{A}\|=\|A\|\|\tilde{A}\|$ and $\hat{\otimes}: \mathcal{B}(\mathcal{H}_1, \mathcal{H}_2)\times \mathcal{B}(\mathcal{K}_1, \mathcal{K}_2)\to \mathcal{B}(\mathcal{H}_1\hat{\otimes}\mathcal{K}_1, \mathcal{H}_2 \hat{\otimes}\mathcal{K}_2), (A, \tilde{A})\mapsto A \hat{\otimes}\tilde{A}$ is a continuous bilinear map with respect to the operator norms.
	\end{parts}
\end{Theorem}
\section{Applications}
As a first application, we prove the Radon-Nikodym theorem as a consequence of the Riesz Representation theorem. First, we need to define a few terms

\begin{Definition}[Absolute Continuity]
	Let $\mu$ and $\nu$ be measures defined on the same measurable space $(X, \mathcal{A})$. We say that $\nu$ is absolutely continuous with respect to $\mu$, or $\nu \ll \mu$, if for all $A\in \mathcal{A}$, $\mu(A)=0\implies \nu(A)=0$.
\end{Definition}

Before we move on to the full Radon-Nikodym theorem, we prove a slightly weaker version:
\begin{Theorem}[Finite Radon-Nikodym]
	Let $\mu$ and $\nu$ be finite measures defined on the same measurable space $(X, \mathcal{A})$ such that $\nu \ll \mu$. Then there exists measurable $g:X \to \R$ such that
	\[\nu(A) = \int_A g \dd{\mu}\]
	for all $A\in \mathcal{A}$.
\end{Theorem}
\begin{proof}
	We consider the Hilbert space $L^2(\mu+\nu)$. Since both measures are finite, the constant $1$-function is integrable, and hence by the Schwarz inequality we have
	\[\left|\int v \dd{(\mu+\nu)}\right|^2 \le \left(\int v^2 \dd{(\mu+\nu)}\right) \left(\int 1\dd{(\mu+\nu)}\right).\]
	This shows that all square integrable functions are integrable. Then, we consider the linear functional
	\[\ell(v) = \int v \dd{\mu}\]
	which is bounded with respect to the $L^2(\mu)$ norm, and thus is even more strongly bounded with respect to the $L^2(\mu+\nu)$ norm. Thus, by the Riesz representation theorem we have
	\[\ell(v) = \int v\dd{\mu} = \int vu \dd{(\mu+\nu)}\]
	for a unique $u\in L^2(\mu+\nu)$. This can be rewritten as
	\begin{equation}\label{eq:rieszintegral}
		\int v(1-u)\dd{\mu}=\int vu \dd{\nu}.
		\end{equation}
	Now we show that $0 < u \le 1$ $\mu$-almost everywhere.
	
	We begin by considering the set $F = \{x\in X|u \le 0\}$. As the inverse image of a measurable set under a measurable function, it is itself measurable. Then, by letting $v$ be its characteristic function (which is $L^2$), Equation~\eqref{eq:rieszintegral} becomes
	\[\int_F (1-u)\dd{\mu} = \int u \dd{\nu}.\]
	Since $u\le 0$ on $F$, the right hand side is $\le 0$, while the left hand side is $\ge \mu(F)$. Thus, we must have $\mu(F)=0$.
	
	Similarly, we consider $F=\{x \in X|u > 1\}$. Here, we have
	\[\int (1-u)\dd{\mu} \le 0, \qquad \int u \dd{\nu} \ge \nu(F).\]
	The only possibility for equality happens when $F$ is a $\mu$-null set. Thus, we can modify $u$ on a $\mu$-null set such that $0< u \le 1$ everywhere.
	
	Finally, we claim that
	\[g = \frac{1-u}{u}.\]
	To see this, we write $p = uv$ and rewrite Equation \eqref{eq:rieszintegral} as
	\[\int pg \dd{\mu} = \int p \dd{\nu}.\]
	We now choose $v$ such that $p$ becomes the characteristic function of a set $A$. Then, we have
	\[\nu(A) = \int g \dd{\mu}\]
	as desired.
\end{proof}
Now, we prove the full Radon-Nikodym theorem. This is a purely measure theoretic exercise, with no need to resort to functional analysis. As one might expect, it proceeds by cutting up the $\sigma$-finite space into finite spaces, applying the finite version of the Radon-Nikodym theorem, and pasting them together using characteristic functions.
\begin{Theorem}[Radon-Nikodym]
	Let $\mu$ and $\nu$ be $\sigma$-finite measures defined on the same measurable space $(X, \mathcal{A})$ such that $\nu\ll \mu$. Then there exists a measurable function $g:X\to \R$ such that
	\[\nu(A) = \int_A g\dd{\mu}\]
	for all $A\in \mathcal{A}$.
\end{Theorem}
\begin{proof}
	Since $X$ is $\sigma$-finite, we have $X=\bigcup_{n=1}^\infty A_n$, with $\mu(A_n)<\infty$, and the $A_n$s pairwise disjoint. Then, we can apply the finite version of the Radon-Nikodym theorem to find $g_n: A_n\to \R$ such that 
	\[\nu(E \cap A_n) = \int_{A_n} g_n\dd{\mu}\]
	for measurable $E$. Then we let $g=\sum_{n=1}^\infty g_n \chi_{A_n}$. By the monotone convergence theorem, this is also positive and measurable. Then
	\[\nu(E) = \sum_{n=1}^\infty \nu(E \cap A_n) = \sum_{n=1}^\infty \int_{A_n} g\dd{\mu} = \int g\dd{\mu}.\qedhere\]
\end{proof}
\renewcommand{\listtheoremname}{List of Definitions}
\listoftheorems[ignoreall, onlynamed={Definition}]
\renewcommand{\listtheoremname}{List of Theorems}
\listoftheorems[ignoreall, onlynamed={Theorem}]
\renewcommand{\listtheoremname}{List of Examples}
\listoftheorems[ignoreall, onlynamed={Example}]
\end{document}
